(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[52],{527:function(e,s,t){"use strict";var a=t(0),n=t(412),i=t(413),c=t(444),l=t(418),o=t(414),r=t(50),d=t(120),h=t(8);class j extends a.Component{constructor(...e){super(...e),this.state={visible:!1,icon:"",action:"",employee:this.employeeState,loading:!1,type:"password",edit:!1,checked:!1,changePassword:this.changePasswordState,changePasswordLoading:!1,id:""},this.employeeState={firstName:"",lastName:"",role:"",email:"",username:"",phoneNumber:"",password:"",birthday:""},this.changePasswordState={accountId:"",currentPassword:"",newPassword:"",confirmPassword:""},this.onResetChangePasswordValue=()=>{this.setState((()=>this.changePasswordState))},this.manageEmployeeModal=(e,s)=>{if(e.modalVisible!==this.props.modalVisible){let{visible:e,action:s,employee:t,icon:a}=this.props.modalVisible;if("Add"===s)this.setState({visible:e,action:s,icon:a,edit:!1});else if("Edit"===s){let{firstName:n,lastName:i,phoneNumber:c,account:l,birthday:o,id:r}=t;this.setState({visible:e,action:s,icon:a,edit:!0,firstName:n,lastName:i,phoneNumber:c,username:l.username,role:l.roles[0].roleName,email:l.email,accountId:l.id,birthday:o,id:r})}else"close"===s&&(this.setState({visible:e,edit:!1,checked:!1,loading:!1}),this.onResetChangePasswordValue())}},this.handleOnChange=e=>{let s=e.target.name;this.setState({[s]:e.target.value})},this.handleShowPassword=e=>{const{type:s}=this.state;this.setState({type:"password"===s?"text":"password"})},this.handleOnSubmit=e=>{e.preventDefault();let{action:s}=this.state;this.setState({loading:!0}),"Add"===s?this.handleSaveAccount():"Edit"===s&&this.handleUpdateUser()},this.handleSaveAccount=()=>{let{firstName:e,lastName:s,email:t,phoneNumber:a,username:n,password:i,role:c,birthday:l}=this.state;this.props.saveEmployee(e,s,t,a,n,i,l,c).then((()=>{let{status:e}=this.props.messageResponse;200===e&&this.setState({loading:!1}),setInterval((()=>{this.props.clearMessage(),window.location.reload()}),1e3)})).catch((()=>{this.setState({loading:!1})}))},this.handleUpdateUser=()=>{let{firstName:e,lastName:s,phoneNumber:t,birthday:a,id:n}=this.state;this.props.updateUser(n,e,s,t,a).then((()=>{let{status:e}=this.props.messageResponse;200===e&&this.setState({loading:!1}),setInterval((()=>{this.props.clearMessage(),window.location.reload()}),1e3)})).catch((()=>{this.setState({loading:!1})}))},this.handleOnChecked=()=>{this.setState({checked:!this.state.checked})},this.handleOnChangePassword=e=>{let{currentPassword:s,newPassword:t,confirmPassword:a,accountId:n}=this.state;this.setState({changePasswordLoading:!0}),e.preventDefault(),this.props.changePassword(n,s,t,a).then((()=>{let{status:e}=this.props.messageResponse;200===e&&this.setState({loading:!1}),this.onResetChangePasswordValue(),this.setState({changePasswordLoading:!1})})).catch((()=>{let{status:e}=this.props.messageResponse;this.setState({changePasswordLoading:!1})}))}}componentDidUpdate(e,s){this.manageEmployeeModal(e,s)}render(){let{visible:e,firstName:s,lastName:t,type:a,email:i,username:c,password:l,phoneNumber:r,icon:j,action:m,loading:b,edit:p,role:x,checked:g,newPassword:O,currentPassword:u,confirmPassword:w,changePasswordLoading:N,birthday:f}=this.state,P=this.props.userResponse.credentials.roles;return Object(h.jsx)("div",{children:Object(h.jsxs)(n.O,{visible:e,size:"lg",children:[Object(h.jsx)(n.R,{onDismiss:()=>this.props.addEmployeeModal(!1,"close","",""),children:Object(h.jsx)(n.S,{children:Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[j,m+" Account"]})})}),Object(h.jsxs)(n.P,{children:[Object(h.jsx)(n.A,{onSubmit:this.handleOnSubmit,id:"employee",children:Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsxs)(n.ab,{children:[Object(h.jsx)(n.p,{sm:"12",lg:"6",children:Object(h.jsxs)(n.E,{className:"mb-3",children:[Object(h.jsx)(n.C,{name:"firstName",value:s,onChange:this.handleOnChange,type:"text",id:"floatingFirstNameInput",placeholder:"Enter First Name"}),Object(h.jsx)(n.F,{htmlFor:"floatingFirstNameInput",children:"First name"})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",children:Object(h.jsxs)(n.E,{className:"mb-3",children:[Object(h.jsx)(n.C,{name:"lastName",value:t,onChange:this.handleOnChange,type:"text",id:"floatingLastNameInput",placeholder:"Enter Last Name"}),Object(h.jsx)(n.F,{htmlFor:"floatingLastNameInput",children:"Last name"})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",children:Object(h.jsxs)(n.E,{className:"mb-3",children:[Object(h.jsx)(n.C,{name:"phoneNumber",value:r,onChange:this.handleOnChange,type:"number",id:"floatingNumberInput",placeholder:"Enter First Name"}),Object(h.jsx)(n.F,{htmlFor:"floatingNumberInput",children:"Phone Number"})]})}),Object(h.jsx)(n.p,{sm:"12",md:"6",lg:!0,className:P.roleName===d.a.SUPER_ADMIN?"":"d-none",children:Object(h.jsxs)(n.E,{className:"mb-3",children:[Object(h.jsxs)(n.G,{value:x,onChange:this.handleOnChange,name:"role",id:"floatingSelectRole","aria-label":"Role Select",disabled:p,children:[Object(h.jsx)("option",{children:"Choose Role"}),Object(h.jsx)("option",{value:"SUPER_ADMIN",children:"Super Admin"}),Object(h.jsx)("option",{value:"ADMIN",children:"Admin"})]}),Object(h.jsx)(n.F,{htmlFor:"floatingSelectRole",children:"Role"})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",children:Object(h.jsxs)(n.E,{className:"mb-3",children:[Object(h.jsx)(n.C,{name:"username",value:c,onChange:this.handleOnChange,type:"text",id:"floatingUsernameInput",placeholder:"Enter Username",disabled:p}),Object(h.jsx)(n.F,{htmlFor:"floatingUsernameInput",children:"Username"})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",className:p?"d-none":"",children:Object(h.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(h.jsx)(n.C,{name:"password",type:a,id:"floatingPassword",autoCorrect:"false",placeholder:"Password",onChange:this.handleOnChange,value:l,required:!0,disabled:p}),Object(h.jsx)(n.F,{htmlFor:"exampleFormControlTextarea1 ",children:Object(h.jsx)("span",{children:"Password"})}),Object(h.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===a?Object(h.jsx)(o.j,{size:20}):Object(h.jsx)(o.i,{size:20})})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",children:Object(h.jsxs)(n.E,{className:"mb-3",children:[Object(h.jsx)(n.C,{name:"email",value:i,onChange:this.handleOnChange,type:"email",id:"floatingemailInput",placeholder:"Enter email",disabled:p}),Object(h.jsx)(n.F,{htmlFor:"floatingemailInput",children:"Email"})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",children:Object(h.jsxs)(n.E,{className:"mb-3",children:[Object(h.jsx)(n.C,{name:"birthday",value:f,onChange:this.handleOnChange,type:"date",id:"floatingBirthdayInput",placeholder:"Enter Birtday"}),Object(h.jsx)(n.F,{htmlFor:"floatingBirthdayInput",children:"Birthday"})]})})]})})}),Object(h.jsx)(n.p,{sm:"12",lg:"12",className:p?"d-block":"d-none",children:Object(h.jsx)(n.B,{id:"changePasswordCheckBox",label:"Change Password",checked:g,name:"checked",onChange:this.handleOnChecked})}),Object(h.jsx)(n.A,{onSubmit:this.handleOnChangePassword,id:"changePassowrd",className:g?"d-block":"d-none",children:Object(h.jsxs)(n.ab,{className:g?"d-block":"d-none",children:[Object(h.jsx)(n.p,{sm:"12",lg:"6",className:"mt-3",children:Object(h.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(h.jsx)(n.C,{name:"currentPassword",type:a,id:"floatingCurrentPassword",autoCorrect:"false",placeholder:"Current Password",onChange:this.handleOnChange,value:u,required:!0}),Object(h.jsx)(n.F,{htmlFor:"floatingCurrentPassword ",children:Object(h.jsx)("span",{children:"Current Password"})}),Object(h.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===a?Object(h.jsx)(o.j,{size:20}):Object(h.jsx)(o.i,{size:20})})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",className:"mt-3",children:Object(h.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(h.jsx)(n.C,{name:"newPassword",type:a,id:"floatingNewPassword",autoCorrect:"false",placeholder:"New Password",onChange:this.handleOnChange,value:O,required:!0}),Object(h.jsx)(n.F,{htmlFor:"floatingNewPassword ",children:Object(h.jsx)("span",{children:"New Password"})}),Object(h.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===a?Object(h.jsx)(o.j,{size:20}):Object(h.jsx)(o.i,{size:20})})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"6",className:"mt-3",children:Object(h.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(h.jsx)(n.C,{name:"confirmPassword",type:a,id:"floatingConfirmPassword",autoCorrect:"false",placeholder:"Confirm Password",onChange:this.handleOnChange,value:w,required:!0}),Object(h.jsx)(n.F,{htmlFor:"floatingConfirmPassword ",children:Object(h.jsx)("span",{children:"Confirm Password"})}),Object(h.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===a?Object(h.jsx)(o.j,{size:20}):Object(h.jsx)(o.i,{size:20})})]})}),Object(h.jsx)(n.p,{sm:"12",lg:"12",className:"mt-3",children:Object(h.jsxs)(n.f,{type:"submit",form:"changePassowrd",disabled:N,children:[N&&Object(h.jsx)(n.fb,{size:"sm",className:"ms-1"}),"Change Password"]})})]})})]}),Object(h.jsxs)(n.Q,{children:[Object(h.jsx)(n.f,{color:"dark",variant:"ghost",onClick:()=>this.props.addEmployeeModal(!1,"close","",""),children:"Close"}),Object(h.jsxs)(n.f,{color:"primary",type:"submit",form:"employee",disabled:b,children:[b&&Object(h.jsx)(n.fb,{size:"sm",className:"ms-1"}),"Save ","Edit"===m?"Changes":"Empolyee"]})]})]})})}}s.a=Object(r.b)((e=>({modalVisible:e.modalVisibleResponse,messageResponse:e.messageResponse,userResponse:e.userResponse})),{addEmployeeModal:i.a,saveEmployee:c.h,clearMessage:l.a,changePassword:c.b,updateUser:c.i})(j)},636:function(e,s,t){"use strict";t.r(s),t.d(s,"Profile",(function(){return O}));var a=t(0),n=t(412),i=t(50),c=t(444),l=t(418),o=t(413),r=t(479),d=t(527),h=t(445),j=t(587),m=t(414),b=t(8);class p extends a.Component{constructor(...e){super(...e),this.state={visible:!1,action:"",loading:!1,type:"password",edit:!1,changePasswordLoading:!1,changePassword:this.changePasswordState},this.changePasswordState={accountId:"",currentPassword:"",newPassword:"",confirmPassword:""},this.handleOnChange=e=>{let s=e.target.name;this.setState({[s]:e.target.value})},this.handleShowPassword=e=>{console.log(e);const{type:s}=this.state;this.setState({type:"password"===s?"text":"password"})},this.manageEmployeeModal=(e,s)=>{if(e.modalVisible!==this.props.modalVisible){let{visible:e,action:s,employee:t,icon:a}=this.props.modalVisible;"ChangePassword"===s?(console.log(this.props.modalVisible),this.setState({visible:e,action:s,icon:a,edit:!0,accountId:t.account.id})):"close"===s&&this.setState({visible:e,edit:!1,checked:!1})}},this.onResetChangePasswordValue=()=>{this.setState((()=>this.changePasswordState))},this.handleOnChangePassword=e=>{let{currentPassword:s,newPassword:t,confirmPassword:a,accountId:n}=this.state;this.setState({changePasswordLoading:!0}),e.preventDefault(),this.props.changePassword(n,s,t,a).then((()=>{let{status:e}=this.props.messageResponse;200===e&&this.setState({loading:!1}),this.onResetChangePasswordValue(),this.setState({changePasswordLoading:!1}),this.props.changePasswordModal(!1,"close","","")})).catch((()=>{this.setState({changePasswordLoading:!1})}))}}componentDidUpdate(e,s){this.manageEmployeeModal(e,s)}render(){let{visible:e,type:s,action:t,loading:a,newPassword:i,currentPassword:c,confirmPassword:l,changePasswordLoading:o}=this.state;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(n.O,{visible:e,children:[Object(b.jsx)(n.R,{onDismiss:()=>this.props.changePasswordModal(!1,"close","",""),children:Object(b.jsx)(n.S,{children:Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)(j.b,{size:20}),Object(b.jsx)("span",{className:"ms-2",children:"Change Password"})]})})}),Object(b.jsx)(n.P,{children:Object(b.jsx)(n.A,{onSubmit:this.handleOnChangePassword,id:"changePassowrd",children:Object(b.jsxs)(n.ab,{children:[Object(b.jsx)(n.p,{sm:"12",lg:"12",className:"mt-3",children:Object(b.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(b.jsx)(n.C,{name:"currentPassword",type:s,id:"floatingCurrentPassword",autoCorrect:"false",placeholder:"Current Password",onChange:this.handleOnChange,value:c,required:!0}),Object(b.jsx)(n.F,{htmlFor:"floatingCurrentPassword ",children:Object(b.jsx)("span",{children:"Current Password"})}),Object(b.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===s?Object(b.jsx)(m.j,{size:20}):Object(b.jsx)(m.i,{size:20})})]})}),Object(b.jsx)(n.p,{sm:"12",lg:"12",className:"mt-3",children:Object(b.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(b.jsx)(n.C,{name:"newPassword",type:s,id:"floatingNewPassword",autoCorrect:"false",placeholder:"New Password",onChange:this.handleOnChange,value:i,required:!0}),Object(b.jsx)(n.F,{htmlFor:"floatingNewPassword ",children:Object(b.jsx)("span",{children:"New Password"})}),Object(b.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===s?Object(b.jsx)(m.j,{size:20}):Object(b.jsx)(m.i,{size:20})})]})}),Object(b.jsx)(n.p,{sm:"12",lg:"12",className:"mt-3",children:Object(b.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(b.jsx)(n.C,{name:"confirmPassword",type:s,id:"floatingConfirmPassword",autoCorrect:"false",placeholder:"Confirm Password",onChange:this.handleOnChange,value:l,required:!0}),Object(b.jsx)(n.F,{htmlFor:"floatingConfirmPassword ",children:Object(b.jsx)("span",{children:"Confirm Password"})}),Object(b.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===s?Object(b.jsx)(m.j,{size:20}):Object(b.jsx)(m.i,{size:20})})]})})]})})}),Object(b.jsxs)(n.Q,{children:[Object(b.jsx)(n.f,{color:"dark",variant:"ghost",onClick:()=>this.props.changePasswordModal(!1,"close","",""),children:"Close"}),Object(b.jsxs)(n.f,{color:"primary",type:"submit",form:"changePassowrd",disabled:a,children:[a&&Object(b.jsx)(n.fb,{size:"sm",className:"ms-1"}),"Save ","Edit"===t?"Changes":"Empolyee"]})]})]})})}}var x=Object(i.b)((e=>({modalVisible:e.modalVisibleResponse,messageResponse:e.messageResponse})),{changePasswordModal:o.d,changePassword:c.b,clearMessage:l.a})(p),g=t(120);class O extends a.Component{constructor(...e){super(...e),this.state={message:"",account:[],visible:!1},this.getMe=()=>{this.props.getMe()},this.manageAccountReponse=(e,s)=>{if(e.accountResponse!==this.props.accountResponse){const{status:e,action:s,data:t}=this.props.accountResponse;200===e&&"GET_ME"===s&&this.setState({account:t.account})}}}componentDidMount(){this.getMe()}componentDidUpdate(e,s){this.manageAccountReponse(e,s)}render(){let{account:e,message:s,visible:t}=this.state;const{roles:a}=this.props.userResponse.credentials,i={marginBottom:"12px"};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(r.a,{}),Object(b.jsx)(d.a,{}),Object(b.jsx)(x,{}),s&&Object(b.jsx)("div",{className:"form-group d-flex justify-content-center align-items-center",children:Object(b.jsx)("div",{className:"alert alert-danger",role:"alert",children:s})}),Object(b.jsx)(n.i,{children:Object(b.jsxs)(n.j,{className:"p-4",children:[a.roleName===g.a.SUPER_ADMIN?e.profileImage?Object(b.jsx)(n.b,{color:"secondary",src:e.profileImage,size:"xl"}):Object(b.jsx)(n.b,{color:"info",size:"xl",children:Object(b.jsx)("h1",{className:"p-0 m-0",children:e.firstName?e.firstName.charAt(0):"N"})}):Object(b.jsx)(b.Fragment,{}),Object(b.jsxs)(n.n,{className:"d-flex justify-content-between mt-3",children:[Object(b.jsxs)("div",{className:"font-style d-flex ",children:[Object(b.jsxs)("div",{className:"font-style d-flex flex-column align-items-start ",children:[a.roleName===g.a.SUPER_ADMIN?Object(b.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Name:"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Username:"}),Object(b.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Email:"}),Object(b.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Role:"})]}),Object(b.jsxs)("div",{className:"font-style d-flex flex-column align-items-start text-black-50",children:[a.roleName===g.a.SUPER_ADMIN?Object(b.jsx)("strong",{style:{...i},children:e.firstName&&e.lastName?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{children:e.firstName}),Object(b.jsx)("span",{className:"ps-1",children:e.lastName})]}):Object(b.jsx)("span",{className:"text-danger",children:"No Name"})}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("strong",{style:{...i},children:e.account&&e.account.username}),Object(b.jsx)("strong",{style:{...i},children:e.account&&e.account.email}),Object(b.jsx)("strong",{style:{...i},children:e.account&&e.account.roles[0].roleName})]})]}),Object(b.jsx)("div",{className:"d-flex justify-content-end align-items-start mb-3",children:Object(b.jsx)(n.f,{color:"info",variant:"ghost",size:"sm",onClick:()=>this.props.addAccountModal(!t,"Edit",e,Object(b.jsx)(h.d,{size:"20",className:"me-2"})),children:Object(b.jsx)(h.d,{size:"20"})})})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(n.n,{style:{margin:"0 auto",width:"80%"},children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between text-center mb-5",children:[Object(b.jsxs)("div",{className:"font-style  w-100",children:[Object(b.jsx)("h6",{children:"Phone number"}),Object(b.jsx)("strong",{className:"text-black-50",children:0===e.phoneNumber?Object(b.jsx)("span",{className:"text-warning",children:"---"}):Object(b.jsx)("span",{children:e.phoneNumber})})]}),Object(b.jsxs)("div",{className:"font-style text-center w-100",children:[Object(b.jsx)("h6",{children:"Birthday"}),Object(b.jsx)("strong",{className:"text-black-50",children:e.birthday?Object(b.jsx)("span",{children:e.birthday}):Object(b.jsx)("span",{className:"text-warning",children:"---"})})]})]}),Object(b.jsx)("div",{className:"d-flex justify-content-between text-center mb-3",children:Object(b.jsxs)("div",{className:"font-style w-100",children:[Object(b.jsx)("h6",{children:"Created Date"}),Object(b.jsx)("strong",{className:"text-black-50",children:e.account?Object(b.jsx)("span",{children:e.account.created}):Object(b.jsx)("span",{className:"text-warning",children:"---"})})]})})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(n.n,{children:Object(b.jsxs)("div",{className:"d-flex justify-content-between mb-5 mt-5",children:[Object(b.jsx)("div",{className:"font-style  w-100",children:Object(b.jsx)("h6",{children:"Password"})}),Object(b.jsx)("div",{className:"font-style text-end w-100",children:Object(b.jsx)(n.f,{color:"link",onClick:()=>this.props.changePasswordModal(!t,"ChangePassword",e,Object(b.jsx)(h.d,{size:"20",className:"me-2"})),children:"Change Password"})})]})})]})})]})}}s.default=Object(i.b)((e=>({accountResponse:e.accountResponse,messageResponse:e.messageResponse,userResponse:e.userResponse})),{clearMessage:l.a,getMe:c.e,addAccountModal:o.a,setAlertModal:o.h,changePasswordModal:o.d})(O)}}]);
//# sourceMappingURL=52.58265f89.chunk.js.map