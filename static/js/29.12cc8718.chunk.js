(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[29,30,31],{413:function(e,s,t){"use strict";t.d(s,"k",(function(){return i})),t.d(s,"j",(function(){return n})),t.d(s,"e",(function(){return o})),t.d(s,"h",(function(){return c})),t.d(s,"g",(function(){return r})),t.d(s,"b",(function(){return l})),t.d(s,"c",(function(){return d})),t.d(s,"a",(function(){return p})),t.d(s,"d",(function(){return h})),t.d(s,"i",(function(){return u})),t.d(s,"f",(function(){return j})),t.d(s,"n",(function(){return m})),t.d(s,"o",(function(){return b})),t.d(s,"m",(function(){return g})),t.d(s,"l",(function(){return O}));var a=t(2);const i=(e,s,t)=>async i=>{i({type:a.SET_PRODUCTEDITMODAL_VISIBILIT,payload:{status:200,data:{visible:e,action:s,icon:t}}})},n=(e,s,t)=>async i=>{i({type:a.SET_PRODUCT_DETAILS_MODAL,payload:{status:200,data:{visible:e,action:s,product:t}}})},o=(e,s,t,i)=>async n=>{n({type:a.EDIT_PRODUCT_MODAL,payload:{status:200,data:{visible:e,action:s,product:t,icon:i}}})},c=(e,s,t,i)=>async n=>{n({type:a.ALERT_MODAL,payload:{action:s,module:t,alert:e,data:{id:i}}})},r=(e,s,t,i)=>async n=>{n({type:a.ALERT_BAN_MODAL,payload:{action:s,module:t,alert:e,data:{id:i}}})},l=(e,s,t,i)=>async n=>{n({type:a.ADD_BRAND_MODAL,payload:{status:200,data:{visible:e,action:s,brand:t,icon:i}}})},d=(e,s,t,i)=>async n=>{n({type:a.ADD_CATEGORY_MODAL,payload:{status:200,data:{visible:e,action:s,category:t,icon:i}}})},p=(e,s,t,i)=>async n=>{n({type:a.ADD_EMPLOYEE_MODAL,payload:{status:200,data:{visible:e,action:s,employee:t,icon:i}}})},h=(e,s,t,i)=>async n=>{n({type:a.CHANGE_PASSWORD_MODAL,payload:{status:200,data:{visible:e,action:s,employee:t,icon:i}}})},u=(e,s)=>async t=>{t({type:a.LOGIN_MODAL,payload:{data:{visible:e,action:s}}})},j=(e,s,t,i)=>async n=>{n({type:a.SET_ADDRESS_MODAL,payload:{data:{visible:e,action:s,address:t,icon:i}}})},m=(e,s,t,i)=>async n=>{n({type:a.SET_SUPPLIER_MODAL,payload:{action:s,data:{visible:e,icon:i,supplier:t}}})},b=(e,s,t,i)=>async n=>{n({type:a.SET_SUPPLY_MODAL,payload:{action:s,data:{visible:e,icon:i,supply:t}}})},g=(e,s)=>async t=>{t({type:a.SET_SCAN_MODAL,payload:{action:s,data:{visible:e}}})},O=(e,s,t,i)=>async n=>{n({type:a.SET_PROMO_MODAL,payload:{action:s,data:{visible:e,icon:i,promo:t}}})}},419:function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"b",(function(){return l})),t.d(s,"c",(function(){return d}));var a=t(21),i=t(2),n=t(415),o=t(89);var c=new class{addToCart(e){return o.a.post("/cart/item/add/"+e,{},{headers:Object(n.a)()})}getCart(){return o.a.get("/cart",{headers:Object(n.a)()})}removeItem(e){return console.log(e),o.a.delete("/cart/item/remove/"+e,{headers:Object(n.a)()})}};const r=e=>async s=>c.addToCart(e).then((e=>(s({type:i.ADD_TO_CART,payload:{status:200,action:"ADDTOCART",data:{}}}),s({type:a.g,payload:{status:200,data:{message:"Added Successfully"}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),i=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:a.g,payload:{status:i,data:{message:t}}}),Promise.reject()})),l=()=>async e=>c.getCart().then((s=>(e({type:i.GET_CART_ITEMS,payload:{status:200,action:"CARTITEMS",data:{cart:s.data}}}),Promise.resolve())),(s=>{const t=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),i=s.response&&s.response.data&&s.response.data.code||s.toString();return e({type:a.g,payload:{status:i,data:{message:t}}}),Promise.reject()})),d=e=>async s=>c.removeItem(e).then((e=>(s({type:i.REMOVE_ITEM,payload:{status:200,action:"REMOVE",data:{}}}),s({type:a.g,payload:{status:200,data:{message:"Remove Item Successfully"}}}),Promise.resolve())),(e=>{console.log(e);const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),i=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:a.g,payload:{status:i,data:{message:t}}}),Promise.reject()}))},422:function(e,s,t){"use strict";var a=t(0),i=t(412),n=t(51),o=t(413),c=t(123),r=t(414),l=t(437),d=t(121),p=t(428),h=t(25),u=t(8);class j extends a.Component{constructor(...e){super(...e),this.state={visible:!1,username:"",password:"",type:"password",loading:!1},this.manageModalVisible=(e,s)=>{if(e.modalVisibleResponse!==this.props.modalVisibleResponse){let{action:e,visible:s}=this.props.modalVisibleResponse;("LOGIN"===e||"loginclose"===e)&&this.setState({visible:s})}},this.handleOnChange=e=>{let s=e.target.name;this.setState({[s]:e.target.value})},this.handleShowPassword=e=>{const{type:s}=this.state;e.preventDefault(),this.setState({type:"password"===s?"text":"password"})},this.handleOnSubmit=e=>{const{username:s,password:t}=this.state;e.preventDefault(),this.setState({loading:!0}),0!==s.length&&0!==t.length?this.props.authenticateUser(s,t).then((()=>{let{roles:e}=this.props.userResponse.credentials;e.roleName===d.a.SUPER_ADMIN||e.roleName===d.a.ADMIN?(this.props.setLoginModal(!1,"loginclose"),setInterval((()=>{p.a.push(h.a.api.private.prefixFrontendUrl+"/app/dashboard"),window.location.reload()}),1e3)):this.props.setLoginModal(!1,"loginclose")})).catch((()=>{this.setState({loading:!1})})):this.setState({loading:!1})}}componentDidUpdate(e,s){this.manageModalVisible(e,s)}render(){let{visible:e,username:s,password:t,type:a,loading:n}=this.state;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(i.O,{alignment:"center",visible:e,children:[Object(u.jsx)(i.R,{onDismiss:()=>this.props.setLoginModal(!1,"loginclose"),children:Object(u.jsx)(i.S,{children:"Login"})}),Object(u.jsx)(i.P,{children:Object(u.jsx)(i.r,{children:Object(u.jsx)(i.A,{id:"loginForm",onSubmit:this.handleOnSubmit,children:Object(u.jsxs)(i.ab,{children:[Object(u.jsx)(i.M,{className:"d-flex justify-content-center",children:Object(u.jsx)(i.p,{children:Object(u.jsxs)(i.E,{className:"mb-3 text-dark ",children:[Object(u.jsx)(i.C,{name:"username",type:"text",autoCorrect:"false",id:"floatingInput",placeholder:"username",onChange:this.handleOnChange,value:s,required:!0,className:"rounded-pill  ps-4 pe-4"}),Object(u.jsxs)(i.F,{htmlFor:"floatingInput ",className:"ps-4 pe-4",children:[Object(u.jsx)(r.C,{size:18}),Object(u.jsx)("span",{className:"ps-2",children:"Username"})]}),Object(u.jsx)(i.D,{invalid:!0,children:"Please provide a valid username"})]})})}),Object(u.jsxs)(i.M,{className:"d-flex justify-content-center",children:[Object(u.jsx)(i.p,{children:Object(u.jsxs)(i.E,{className:"text-dark position-relative",children:[Object(u.jsx)(i.C,{name:"password",type:a,id:"floatingPassword",autoCorrect:"false",placeholder:"Password",onChange:this.handleOnChange,value:t,required:!0,className:"rounded-pill ps-4 pe-4"}),Object(u.jsxs)(i.F,{htmlFor:"exampleFormControlTextarea1 ",className:"ps-4 pe-4",children:[Object(u.jsx)(r.n,{size:18}),Object(u.jsx)("span",{className:"ps-2",children:"Password"})]}),Object(u.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===a?Object(u.jsx)(r.j,{size:20}):Object(u.jsx)(r.i,{size:20})}),Object(u.jsx)(i.D,{invalid:!0,children:"Please provide a valid password"})]})}),Object(u.jsx)(i.p,{xs:"12",sm:"12",md:"12",lg:"12"})]})]})})})}),Object(u.jsxs)(i.Q,{children:[Object(u.jsx)(i.f,{variant:"ghost",color:"dark",onClick:()=>this.props.setLoginModal(!1,"loginclose"),children:"Close"}),Object(u.jsxs)(i.f,{form:"loginForm",type:"submit",color:"info",className:"d-flex justify-content-center align-items-center position-relative overflow-hidden login-btn",disabled:n,children:[n?Object(u.jsx)(i.fb,{size:"sm"}):Object(u.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(u.jsx)(l.a,{size:20})}),Object(u.jsx)("span",{className:"label-btn ",children:"Login"})]})]})]})})}}s.a=Object(n.b)((e=>({modalVisibleResponse:e.modalVisibleResponse,messageResponse:e.messageResponse,userResponse:e.userResponse})),{setLoginModal:o.i,authenticateUser:c.a})(j)},424:function(e,s,t){"use strict";t.d(s,"b",(function(){return r})),t.d(s,"c",(function(){return l})),t.d(s,"a",(function(){return d}));var a=t(2),i=t(21),n=t(415),o=t(89);var c=new class{getWishlist(e,s,t){return o.a.get("/wishlist",{headers:Object(n.a)(),params:{query:e,page:s,limit:t}})}saveWishlist(e){return o.a.post("/wishlist",e,{headers:Object(n.a)()})}deleteWishlist(e){return o.a.delete("/wishlist/"+e,{headers:Object(n.a)()})}};const r=(e,s,t)=>async n=>c.getWishlist(e,s,t).then((e=>(n({type:a.GET_WISHLIST,payload:{status:200,action:"GET_WISHLIST",data:e.data}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),t=e.response&&e.response.data&&e.response.data.code||e.toString();return n({type:i.g,payload:{status:t,data:{message:s}}}),Promise.reject()})),l=e=>async s=>c.saveWishlist(e).then((e=>(s({type:a.ADD_WISHLIST,payload:{status:200,action:"ADD_WISHLIST",data:e.data}}),s({type:i.g,payload:{status:200,data:{message:"Successfully added to wishlist",order:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),a=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:i.g,payload:{status:a,data:{message:t}}}),Promise.reject()})),d=e=>async s=>c.deleteWishlist(e).then((e=>(s({type:a.DELETE_WISHLIST,payload:{status:200,action:"DELETE_WISHLIST",data:{order:e.data}}}),s({type:i.g,payload:{status:200,data:{message:"Successfully deleted wishlist"}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),a=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:i.g,payload:{status:a,data:{message:t}}}),console.log("JKOSLDFJ"),Promise.reject()}))},429:function(e,s,t){"use strict";t.r(s),t.d(s,"ProductDetialsModal",(function(){return u}));var a=t(0),i=t(412),n=t(51),o=t(413),c=t(419),r=t(414),l=t(434),d=t(422),p=t(435),h=t(8);class u extends a.Component{constructor(...e){super(...e),this.state={visible:!1,product:[],loading:!1,message:"",footerDisplay:!1},this.manageModalVisibleResponse=(e,s)=>{if(e.modalVisibleResponse!==this.props.modalVisibleResponse){let{action:e,visible:s,product:t}=this.props.modalVisibleResponse;"PRODUCTDETAILS"===e?this.setState({visible:s,product:t,footerDisplay:!0}):("close"===e||"view"===e)&&this.setState({visible:s,product:t,footerDisplay:!1})}},this.handleAddToCart=e=>{let{product:s}=this.state.product,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),t){let e=a.type+a.accessToken;this.props.addToCart(s.id,e).then((()=>{console.log("success added"),this.setState({loading:!1})}))}else this.setState({loading:!1}),this.props.setLoginModal(!0,"LOGIN")}}componentDidUpdate(e,s){this.manageModalVisibleResponse(e,s)}render(){let{visible:e,product:s,loading:t,toast:a,footerDisplay:n}=this.state;return Object(h.jsx)(h.Fragment,{children:s&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{}),Object(h.jsxs)(i.O,{size:"xl",visible:e,scrollable:!0,onDismiss:()=>this.props.setProductDetailsModal(!1,"close",""),children:[Object(h.jsx)(i.R,{onDismiss:()=>this.props.setProductDetailsModal(!1,"close",""),children:Object(h.jsx)(i.S,{children:"Product Details"})}),Object(h.jsxs)(i.P,{children:[Object(h.jsx)(l.a,{product:s,button:!1}),Object(h.jsxs)("div",{className:" p-2",children:[Object(h.jsx)("h4",{className:"mb-4",children:"Product Description"}),Object(h.jsx)(p.a,{productDescription:s.product&&s.product.productDescription})]})]}),Object(h.jsxs)(i.Q,{children:[Object(h.jsxs)("div",{className:n?"d-flex":"d-none",children:[Object(h.jsx)(i.f,{variant:"ghost",color:"dark",className:"d-flex justify-content-center align-items-center",children:Object(h.jsx)("span",{className:"text-black",children:"View Detailed"})}),Object(h.jsxs)(i.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center",onClick:this.handleAddToCart,disabled:t,children:[t?Object(h.jsx)(i.fb,{size:"sm"}):Object(h.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(h.jsx)(r.e,{})}),Object(h.jsx)("span",{className:"ms-2",children:"Add To Cart"})]})]}),Object(h.jsx)(i.f,{className:n?"d-none":"d-block",color:"secondary",variant:"ghost",onClick:()=>this.props.setProductDetailsModal(!1,"close",""),children:"Close"})]})]})]})})}}s.default=Object(n.b)((e=>({modalVisibleResponse:e.modalVisibleResponse,userResponse:e.userResponse,messageResponse:e.messageResponse})),{setProductDetailsModal:o.j,setLoginModal:o.i,addToCart:c.a})(u)},434:function(e,s,t){"use strict";var a=t(0),i=t(412),n=t(445),o=t(455),c=t(431),r=t.n(c),l=t(2),d=t(414),p=t(419),h=t(51),u=t(413),j=t(422),m=t(424),b=t(8);class g extends a.Component{constructor(e){super(e),this.handleAddToCart=e=>{let{product:s}=this.state.product,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),t){let e=a.type+a.accessToken;this.props.addToCart(s.id,e).then((()=>{this.setState({loading:!1})})).catch((()=>{let{status:e,action:s}=this.props.messageResponse;this.setState({loading:!1})}))}else this.setState({loading:!1}),this.props.setLoginModal(!0,"LOGIN")},this.manageStatus=e=>{switch(e){case"OK":return Object(b.jsx)(i.c,{color:"success",shape:"rounded-pill",children:e});case"LOW":return Object(b.jsx)(i.c,{color:"warning",shape:"rounded-pill",children:e});case"OUT_OF_STOCK":return Object(b.jsx)(i.c,{color:"danger",shape:"rounded-pill",children:"OUT OF STOCK"});default:return Object(b.jsx)(i.c,{color:"danger",shape:"rounded-pill",children:e})}},this.state={product:this.props.product,loading:!1,button:this.props.button}}handleAddToWishlist(e){let{product:s}=this.state,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),!t)return this.setState({loading:!1}),void this.props.setLoginModal(!0,"LOGIN");const i=s.wishlist;i&&i.id>0?this.props.deleteWishlist(i.id).then((()=>{s.wishlist=null,this.setState({product:s,loading:!1})})):this.props.saveWishlist({id:e}).then((()=>{s.wishlist=this.props.wishlistResponse.data,this.setState({product:s,loading:!1})}))}render(){const{product:e,inventory:s,wishlist:t,promo:a}=this.state.product,{loading:c,toast:p,button:h}=this.state,u=a&&a.status,m=a&&a.percentage;let g=e.productPrice*m/100,O=e.productPrice-g;const x={position:"absolute",zIndex:"2",top:"calc(4% - 16px)",height:"100%",cursor:"pointer",border:"none"},y={fontSize:"14px",fontWeight:"500"},f=e.rating?e.rating:0;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{}),Object(b.jsxs)(i.ab,{children:[Object(b.jsx)(i.p,{sm:"12",md:"5",lg:"5",children:Object(b.jsx)(o.Carousel,{showArrows:!0,infiniteLoop:!0,renderArrowPrev:(e,s,t)=>s&&Object(b.jsx)("button",{type:"button",onClick:e,title:t,className:"arrow-style",style:{...x,left:0},children:Object(b.jsx)(n.a,{size:"40",style:{color:"white"}})}),renderArrowNext:(e,s,t)=>s&&Object(b.jsx)("button",{type:"button",onClick:e,title:t,className:"arrow-style",style:{...x,right:0},children:Object(b.jsx)(n.b,{size:"40",style:{color:"white"}})}),children:e.fileImages.length>0?e.fileImages.map(((e,s)=>Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"/images/products/"+e.path+e.fileName})},s))):Object(b.jsx)("img",{src:l.NO_IMAGE_BASE64})})}),Object(b.jsx)(i.p,{sm:"12",md:"7",lg:"7",children:Object(b.jsxs)(i.i,{className:"border-0 p-3",children:[Object(b.jsx)(i.n,{children:e.productName}),Object(b.jsxs)(i.j,{className:" ps-0",children:[Object(b.jsx)("div",{className:"d-flex justify-content-start align-items-center",children:f?Object(b.jsx)(r.a,{count:5,value:f||0,size:24,edit:!1}):Object(b.jsx)("div",{style:{padding:"5px 0px"},children:Object(b.jsx)("span",{className:"text-black-50 ",children:"No Rating"})})}),e.sku&&Object(b.jsxs)("div",{className:"mt-2 mb-2",style:{...y},children:[Object(b.jsx)("span",{className:"text-black-50 me-3 ",children:"SKU"}),Object(b.jsx)("span",{className:"text-black-50 me-3 ",children:"112354879"})]}),Object(b.jsxs)("div",{className:"mt-2 mb-2",style:{...y},children:[Object(b.jsx)("span",{className:"me-3 text-black-50",children:"Brand"}),Object(b.jsx)("span",{className:"me-3",children:e.brand?e.brand.brand:"No Brand"})]}),Object(b.jsx)("div",{className:"mt-3 mb-3  d-flex align-items-center justify-content-between",children:Object(b.jsxs)("h5",{className:"peso-price",children:["\u20b1",u?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{className:"text-muted text-decoration-line-through me-2",style:{fontSize:"16px"},children:e.productPrice.toFixed(2)}),Object(b.jsx)("span",{children:O.toFixed(2)}),Object(b.jsx)("span",{className:"text-muted ms-3",style:{fontSize:"16px"},children:m+"%"})]}):e.productPrice.toFixed(2)]})}),Object(b.jsxs)("div",{className:"product-stock-container",children:[Object(b.jsx)("span",{className:"stock-label",children:"Stock: "}),a?Object(b.jsx)("span",{className:"stock-label-value",children:a.quantity}):s.totalStock>0?Object(b.jsx)("span",{className:"stock-label-value",children:s.totalStock}):this.manageStatus(s.status)]}),Object(b.jsx)("hr",{})]}),h?Object(b.jsx)(i.k,{className:"bg-transparent",children:Object(b.jsx)("div",{className:"d-flex justify-content-end ",children:u||"OUT_OF_STOCK"!=s.status?Object(b.jsxs)(i.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center w-100",onClick:this.handleAddToCart,disabled:c,children:[c?Object(b.jsx)(i.fb,{size:"sm"}):Object(b.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(b.jsx)(d.e,{})}),Object(b.jsx)("span",{className:"ms-2",children:"Add To Cart"})]}):Object(b.jsxs)(i.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center w-100",onClick:()=>{this.handleAddToWishlist(e.id)},disabled:c,style:{background:"pink"},children:[c?Object(b.jsx)(i.fb,{size:"sm"}):Object(b.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(b.jsx)(d.k,{})}),Object(b.jsx)("span",{className:"ms-2",children:t?"Remove Wishlist":"Add To Wishlist"})]})})}):Object(b.jsx)(b.Fragment,{})]})})]})]})}}s.a=Object(h.b)((e=>({modalVisibleResponse:e.modalVisibleResponse,userResponse:e.userResponse,wishlistResponse:e.wishlistResponse})),{setLoginModal:u.i,addToCart:p.a,saveWishlist:m.c,deleteWishlist:m.a})(g)},435:function(e,s,t){"use strict";var a=t(0),i=t(451),n=t(460),o=t.n(n),c=t(461),r=t.n(c),l=t(8);class d extends a.Component{constructor(...e){super(...e),this.state={description:this.props.productDescription},this.createMarkup=e=>({__html:o.a.sanitize(e)})}render(){let{description:e}=this.state,s=e&&JSON.parse(e);if(s){let e=Object(i.convertFromRaw)(s);const t=i.EditorState.createWithContent(e),a=r()(Object(i.convertToRaw)(t.getCurrentContent()));return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"preview ps-4",dangerouslySetInnerHTML:this.createMarkup(a)})})}return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"preview ps-4"})})}}s.a=d},440:function(e,s,t){"use strict";var a=t(0),i=t(412),n=t(431),o=t.n(n),c=t(414),r=t(51),l=t(413),d=t(429),p=t(416),h=t(2),u=t(120),j=t(12),m=t(424),b=t(419),g=t(25),O=t(8);class x extends a.Component{constructor(...e){super(...e),this.state={iconModal:"eye",product:this.props.product,fileImage:this.props.fileImage,imageLink:!1,visible:!1,action:"",message:"",loading:!1},this.componentDidMount=()=>{this.handleIconModal(),this.handleImageLink()},this.handleIconModal=()=>{this.setState({iconModal:this.props.iconModal})},this.handleImageLink=()=>{this.setState({imageLink:this.props.imageLink})},this.handleAddToCart=e=>{let{product:s}=this.state.product,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),t){let e=a.type+a.accessToken;this.props.addToCart(s.id,e).then((()=>{this.setState({loading:!1})})).catch((()=>{let{status:e,action:s}=this.props.messageResponse;this.setState({loading:!1})}))}else this.setState({loading:!1}),this.props.history.push(g.a.api.private.prefixFrontendUrl+"/login")},this.handleGetProduct=e=>{this.props.getProduct(e)},this.handleProductDetails=e=>{this.props.getProductDetails(e)},this.manageStatus=e=>{switch(e){case"OK":return Object(O.jsx)(i.c,{color:"success",shape:"rounded-pill",children:e});case"LOW":return Object(O.jsx)(i.c,{color:"warning",shape:"rounded-pill",children:e});case"OUT_OF_STOCK":return Object(O.jsx)(i.c,{color:"danger",shape:"rounded-pill",children:"OUT OF STOCK"});default:return Object(O.jsx)(i.c,{color:"danger",shape:"rounded-pill",children:e})}},this.renderAlert=()=>{}}componentDidUpdate(e,s){this.manageProductResponse(e,s)}handleAddToWishlist(e){let{product:s}=this.state,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),!t)return this.setState({loading:!1}),void this.props.history.push(g.a.api.private.prefixFrontendUrl+"/login");const i=s.wishlist;i&&i.id>0?this.props.deleteWishlist(i.id).then((()=>{s.wishlist=null,this.setState({product:s,loading:!1})})).catch((()=>{this.setState({loading:!1})})):this.props.saveWishlist({id:e}).then((()=>{s.wishlist=this.props.wishlistResponse.data,this.setState({product:s,loading:!1})})).catch((()=>{this.setState({loading:!1})}))}manageProductResponse(e,s){const{visible:t}=this.state;if(e.productResponse!==this.props.productResponse){let e=this.props.productResponse;"GETBYID"===e.action?e.status>=200&&e.status<=300&&this.props.editProductModal(!t,"Edit",e.data.product,Object(O.jsx)(c.g,{size:20})):"DETAILS"===e.action&&200===e.status&&this.props.setProductDetailsModal(!t,"PRODUCTDETAILS",e.data.product)}}render(){let{product:e,fileImage:s,loading:t}=this.state;const{productName:a,productPrice:n,id:r}=e.product,{inventory:l,wishlist:p}=e,j=e.promo&&e.promo.status,m=e.promo&&e.promo.percentage;let b=n-n*m/100;const x=e.product.rating?e.product.rating:0;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.default,{}),Object(O.jsxs)(i.i,{className:"inner-card-container shadow-sm",children:[Object(O.jsx)("div",{className:"img-container",children:Object(O.jsx)(u.b,{to:{pathname:g.a.api.private.prefixFrontendUrl+"/products/product/"+a,state:r},className:"link-product-content",children:Object(O.jsx)("div",{className:"inner-img-container",children:Object(O.jsx)("img",{className:"border",variant:"top",src:s.length>0?"/images/products/"+s[0].path+s[0].fileName:h.NO_IMAGE_BASE64,alt:"product"})})})}),Object(O.jsxs)(i.j,{children:[Object(O.jsx)(u.b,{to:{pathname:g.a.api.private.prefixFrontendUrl+"/products/product/"+a,state:r},className:"nav-link text-dark p-0",children:Object(O.jsx)(i.n,{children:a})}),Object(O.jsxs)("div",{className:"card-label-price",children:[Object(O.jsxs)(i.n,{children:["\u20b1","ONGOING"===j?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{className:"text-muted text-decoration-line-through me-2",style:{fontSize:"16px"},children:n.toFixed(2)}),Object(O.jsx)("span",{children:b.toFixed(2)}),Object(O.jsx)("span",{className:"text-muted ",style:{fontSize:"16px",float:"right"},children:m+"%"})]}):n.toFixed(2)]}),Object(O.jsxs)("div",{className:"product-stock-container",children:[Object(O.jsx)("span",{className:"stock-label",children:"Stock: "}),e.promo?Object(O.jsx)("span",{className:"",children:Object(O.jsx)("span",{className:"stock-label-value",children:e.promo.quantity})}):e.inventory.totalStock>0?Object(O.jsx)("span",{className:"stock-label-value",children:e.inventory.totalStock}):this.manageStatus(e.inventory.status)]})]}),x?Object(O.jsx)(o.a,{count:5,value:x||0,size:24,edit:!1}):Object(O.jsx)("div",{style:{padding:"5px 0px"},children:Object(O.jsx)("span",{className:"text-black-50 ",children:"No Rating"})})]}),Object(O.jsx)(i.k,{children:j||"OUT_OF_STOCK"!=l.status?Object(O.jsxs)(i.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center w-100",onClick:this.handleAddToCart,disabled:t,children:[t?Object(O.jsx)(i.fb,{size:"sm"}):Object(O.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(O.jsx)(c.e,{})}),Object(O.jsx)("span",{className:"ms-2",children:"Add To Cart"})]}):Object(O.jsxs)(i.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center w-100",onClick:()=>{this.handleAddToWishlist(r)},disabled:t,style:{background:"pink"},children:[t?Object(O.jsx)(i.fb,{size:"sm"}):Object(O.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:p?Object(O.jsx)(c.k,{}):Object(O.jsx)(c.u,{})}),Object(O.jsx)("span",{className:"ms-2",children:p?"Remove Wishlist":"Add To Wishlist"})]})})]})]})}}s.a=Object(r.b)((e=>({productResponse:e.productResponser,userResponse:e.userResponse,modalVisibleResponse:e.modalVisibleResponse,messageResponse:e.messageResponse,wishlistResponse:e.wishlistResponse})),{setProductModal:l.k,setProductDetailsModal:l.j,editProductModal:l.e,getProduct:p.d,getProductDetails:p.e,deleteWishlist:m.a,saveWishlist:m.c,addToCart:b.a})(Object(j.h)(x))},488:function(e,s,t){"use strict";t.r(s),t.d(s,"PopularProducts",(function(){return l}));var a=t(0),i=t(412),n=t(51),o=t(416),c=t(440),r=(t(429),t(8));class l extends a.Component{constructor(...e){super(...e),this.state={message:"",products:{data:[],totalPages:0}},this.manageProductResponse=(e,s)=>{if(e.productResponser!==this.props.productResponser){let{status:e,action:s,data:t}=this.props.productResponser;200===e&&"DISCOVER"===s&&this.setState({products:t.products})}}}componentDidUpdate(e,s){this.manageProductResponse(e,s)}render(){let{message:e,products:s}=this.state;return console.log(s),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(i.ab,{className:" pt-2 pb-2 mb-4",children:[Object(r.jsx)("h4",{children:"Popular Product"}),s.data.slice(0,8).map(((e,s)=>Object(r.jsx)(i.p,{xs:"6",sm:"6",md:"4",lg:"3",children:Object(r.jsx)(c.a,{product:e,fileImage:e.product.fileImages,iconModal:"eye",imageLink:!0})},s)))]})})}}s.default=Object(n.b)((e=>({productResponser:e.productResponser,messageResponse:e.messageResponse})),{getDiscoverProducts:o.b})(l)}}]);
//# sourceMappingURL=29.12cc8718.chunk.js.map