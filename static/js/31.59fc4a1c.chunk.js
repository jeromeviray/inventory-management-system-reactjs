(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[31],{419:function(e,s,t){"use strict";t.d(s,"a",(function(){return c})),t.d(s,"b",(function(){return l})),t.d(s,"c",(function(){return d}));var a=t(21),n=t(2),i=t(415),o=t(88);var r=new class{addToCart(e){return o.a.post("/cart/item/add/"+e,{},{headers:Object(i.a)()})}getCart(){return o.a.get("/cart",{headers:Object(i.a)()})}removeItem(e){return console.log(e),o.a.delete("/cart/item/remove/"+e,{headers:Object(i.a)()})}};const c=e=>async s=>r.addToCart(e).then((e=>(s({type:n.ADD_TO_CART,payload:{status:200,action:"ADDTOCART",data:{}}}),s({type:a.g,payload:{status:200,data:{message:"Added Successfully"}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),n=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:a.g,payload:{status:n,data:{message:t}}}),Promise.reject()})),l=()=>async e=>r.getCart().then((s=>(e({type:n.GET_CART_ITEMS,payload:{status:200,action:"CARTITEMS",data:{cart:s.data}}}),Promise.resolve())),(s=>{const t=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),n=s.response&&s.response.data&&s.response.data.code||s.toString();return e({type:a.g,payload:{status:n,data:{message:t}}}),Promise.reject()})),d=e=>async s=>r.removeItem(e).then((e=>(s({type:n.REMOVE_ITEM,payload:{status:200,action:"REMOVE",data:{}}}),s({type:a.g,payload:{status:200,data:{message:"Remove Item Successfully"}}}),Promise.resolve())),(e=>{console.log(e);const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),n=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:a.g,payload:{status:n,data:{message:t}}}),Promise.reject()}))},422:function(e,s,t){"use strict";var a=t(0),n=t(412),i=t(50),o=t(413),r=t(122),c=t(414),l=t(437),d=t(120),p=t(428),h=t(8);class j extends a.Component{constructor(...e){super(...e),this.state={visible:!1,username:"",password:"",type:"password",loading:!1},this.manageModalVisible=(e,s)=>{if(e.modalVisibleResponse!==this.props.modalVisibleResponse){let{action:e,visible:s}=this.props.modalVisibleResponse;("LOGIN"===e||"loginclose"===e)&&this.setState({visible:s})}},this.handleOnChange=e=>{let s=e.target.name;this.setState({[s]:e.target.value})},this.handleShowPassword=e=>{const{type:s}=this.state;e.preventDefault(),this.setState({type:"password"===s?"text":"password"})},this.handleOnSubmit=e=>{const{username:s,password:t}=this.state;e.preventDefault(),this.setState({loading:!0}),0!==s.length&&0!==t.length?this.props.authenticateUser(s,t).then((()=>{let{roles:e}=this.props.userResponse.credentials;e.roleName===d.a.SUPER_ADMIN||e.roleName===d.a.ADMIN?(this.props.setLoginModal(!1,"loginclose"),setInterval((()=>{p.a.push("/app/dashboard"),window.location.reload()}),1e3)):this.props.setLoginModal(!1,"loginclose")})).catch((()=>{this.setState({loading:!1})})):this.setState({loading:!1})}}componentDidUpdate(e,s){this.manageModalVisible(e,s)}render(){let{visible:e,username:s,password:t,type:a,loading:i}=this.state;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(n.O,{alignment:"center",visible:e,children:[Object(h.jsx)(n.R,{onDismiss:()=>this.props.setLoginModal(!1,"loginclose"),children:Object(h.jsx)(n.S,{children:"Login"})}),Object(h.jsx)(n.P,{children:Object(h.jsx)(n.r,{children:Object(h.jsx)(n.A,{id:"loginForm",onSubmit:this.handleOnSubmit,children:Object(h.jsxs)(n.ab,{children:[Object(h.jsx)(n.M,{className:"d-flex justify-content-center",children:Object(h.jsx)(n.p,{children:Object(h.jsxs)(n.E,{className:"mb-3 text-dark ",children:[Object(h.jsx)(n.C,{name:"username",type:"text",autoCorrect:"false",id:"floatingInput",placeholder:"username",onChange:this.handleOnChange,value:s,required:!0,className:"rounded-pill  ps-4 pe-4"}),Object(h.jsxs)(n.F,{htmlFor:"floatingInput ",className:"ps-4 pe-4",children:[Object(h.jsx)(c.C,{size:18}),Object(h.jsx)("span",{className:"ps-2",children:"Username"})]}),Object(h.jsx)(n.D,{invalid:!0,children:"Please provide a valid username"})]})})}),Object(h.jsxs)(n.M,{className:"d-flex justify-content-center",children:[Object(h.jsx)(n.p,{children:Object(h.jsxs)(n.E,{className:"text-dark position-relative",children:[Object(h.jsx)(n.C,{name:"password",type:a,id:"floatingPassword",autoCorrect:"false",placeholder:"Password",onChange:this.handleOnChange,value:t,required:!0,className:"rounded-pill ps-4 pe-4"}),Object(h.jsxs)(n.F,{htmlFor:"exampleFormControlTextarea1 ",className:"ps-4 pe-4",children:[Object(h.jsx)(c.n,{size:18}),Object(h.jsx)("span",{className:"ps-2",children:"Password"})]}),Object(h.jsx)("span",{onClick:this.handleShowPassword,className:"position-absolute top-50 end-0 translate-middle-y ps-4 pe-4",children:"password"===a?Object(h.jsx)(c.j,{size:20}):Object(h.jsx)(c.i,{size:20})}),Object(h.jsx)(n.D,{invalid:!0,children:"Please provide a valid password"})]})}),Object(h.jsx)(n.p,{xs:"12",sm:"12",md:"12",lg:"12"})]})]})})})}),Object(h.jsxs)(n.Q,{children:[Object(h.jsx)(n.f,{variant:"ghost",color:"dark",onClick:()=>this.props.setLoginModal(!1,"loginclose"),children:"Close"}),Object(h.jsxs)(n.f,{form:"loginForm",type:"submit",color:"info",className:"d-flex justify-content-center align-items-center position-relative overflow-hidden login-btn",disabled:i,children:[i?Object(h.jsx)(n.fb,{size:"sm"}):Object(h.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(h.jsx)(l.a,{size:20})}),Object(h.jsx)("span",{className:"label-btn ",children:"Login"})]})]})]})})}}s.a=Object(i.b)((e=>({modalVisibleResponse:e.modalVisibleResponse,messageResponse:e.messageResponse,userResponse:e.userResponse})),{setLoginModal:o.i,authenticateUser:r.a})(j)},424:function(e,s,t){"use strict";t.d(s,"b",(function(){return c})),t.d(s,"c",(function(){return l})),t.d(s,"a",(function(){return d}));var a=t(2),n=t(21),i=t(415),o=t(88);var r=new class{getWishlist(e,s,t){return o.a.get("/wishlist",{headers:Object(i.a)(),params:{query:e,page:s,limit:t}})}saveWishlist(e){return o.a.post("/wishlist",e,{headers:Object(i.a)()})}deleteWishlist(e){return o.a.delete("/wishlist/"+e,{headers:Object(i.a)()})}};const c=(e,s,t)=>async i=>r.getWishlist(e,s,t).then((e=>(i({type:a.GET_WISHLIST,payload:{status:200,action:"GET_WISHLIST",data:e.data}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),t=e.response&&e.response.data&&e.response.data.code||e.toString();return i({type:n.g,payload:{status:t,data:{message:s}}}),Promise.reject()})),l=e=>async s=>r.saveWishlist(e).then((e=>(s({type:a.ADD_WISHLIST,payload:{status:200,action:"ADD_WISHLIST",data:e.data}}),s({type:n.g,payload:{status:200,data:{message:"Successfully added to wishlist",order:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),a=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:n.g,payload:{status:a,data:{message:t}}}),Promise.reject()})),d=e=>async s=>r.deleteWishlist(e).then((e=>(s({type:a.DELETE_WISHLIST,payload:{status:200,action:"DELETE_WISHLIST",data:{order:e.data}}}),s({type:n.g,payload:{status:200,data:{message:"Successfully deleted wishlist"}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),a=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:n.g,payload:{status:a,data:{message:t}}}),console.log("JKOSLDFJ"),Promise.reject()}))},429:function(e,s,t){"use strict";t.r(s),t.d(s,"ProductDetialsModal",(function(){return j}));var a=t(0),n=t(412),i=t(50),o=t(413),r=t(419),c=t(414),l=t(434),d=t(422),p=t(435),h=t(8);class j extends a.Component{constructor(...e){super(...e),this.state={visible:!1,product:[],loading:!1,message:"",footerDisplay:!1},this.manageModalVisibleResponse=(e,s)=>{if(e.modalVisibleResponse!==this.props.modalVisibleResponse){let{action:e,visible:s,product:t}=this.props.modalVisibleResponse;"PRODUCTDETAILS"===e?this.setState({visible:s,product:t,footerDisplay:!0}):("close"===e||"view"===e)&&this.setState({visible:s,product:t,footerDisplay:!1})}},this.handleAddToCart=e=>{let{product:s}=this.state.product,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),t){let e=a.type+a.accessToken;this.props.addToCart(s.id,e).then((()=>{console.log("success added"),this.setState({loading:!1})}))}else this.setState({loading:!1}),this.props.setLoginModal(!0,"LOGIN")}}componentDidUpdate(e,s){this.manageModalVisibleResponse(e,s)}render(){let{visible:e,product:s,loading:t,toast:a,footerDisplay:i}=this.state;return Object(h.jsx)(h.Fragment,{children:s&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{}),Object(h.jsxs)(n.O,{size:"xl",visible:e,scrollable:!0,onDismiss:()=>this.props.setProductDetailsModal(!1,"close",""),children:[Object(h.jsx)(n.R,{onDismiss:()=>this.props.setProductDetailsModal(!1,"close",""),children:Object(h.jsx)(n.S,{children:"Product Details"})}),Object(h.jsxs)(n.P,{children:[Object(h.jsx)(l.a,{product:s,button:!1}),Object(h.jsxs)("div",{className:" p-2",children:[Object(h.jsx)("h4",{className:"mb-4",children:"Product Description"}),Object(h.jsx)(p.a,{productDescription:s.product&&s.product.productDescription})]})]}),Object(h.jsxs)(n.Q,{children:[Object(h.jsxs)("div",{className:i?"d-flex":"d-none",children:[Object(h.jsx)(n.f,{variant:"ghost",color:"dark",className:"d-flex justify-content-center align-items-center",children:Object(h.jsx)("span",{className:"text-black",children:"View Detailed"})}),Object(h.jsxs)(n.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center",onClick:this.handleAddToCart,disabled:t,children:[t?Object(h.jsx)(n.fb,{size:"sm"}):Object(h.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(h.jsx)(c.e,{})}),Object(h.jsx)("span",{className:"ms-2",children:"Add To Cart"})]})]}),Object(h.jsx)(n.f,{className:i?"d-none":"d-block",color:"secondary",variant:"ghost",onClick:()=>this.props.setProductDetailsModal(!1,"close",""),children:"Close"})]})]})]})})}}s.default=Object(i.b)((e=>({modalVisibleResponse:e.modalVisibleResponse,userResponse:e.userResponse,messageResponse:e.messageResponse})),{setProductDetailsModal:o.j,setLoginModal:o.i,addToCart:r.a})(j)},434:function(e,s,t){"use strict";var a=t(0),n=t(412),i=t(446),o=t(456),r=t(431),c=t.n(r),l=t(2),d=t(414),p=t(419),h=t(50),j=t(413),m=t(422),b=t(424),u=t(8);class g extends a.Component{constructor(e){super(e),this.handleAddToCart=e=>{let{product:s}=this.state.product,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),t){let e=a.type+a.accessToken;this.props.addToCart(s.id,e).then((()=>{this.setState({loading:!1})})).catch((()=>{let{status:e,action:s}=this.props.messageResponse;this.setState({loading:!1})}))}else this.setState({loading:!1}),this.props.setLoginModal(!0,"LOGIN")},this.manageStatus=e=>{switch(e){case"OK":return Object(u.jsx)(n.c,{color:"success",shape:"rounded-pill",children:e});case"LOW":return Object(u.jsx)(n.c,{color:"warning",shape:"rounded-pill",children:e});case"OUT_OF_STOCK":return Object(u.jsx)(n.c,{color:"danger",shape:"rounded-pill",children:"OUT OF STOCK"});default:return Object(u.jsx)(n.c,{color:"danger",shape:"rounded-pill",children:e})}},this.state={product:this.props.product,loading:!1,button:this.props.button}}handleAddToWishlist(e){let{product:s}=this.state,{isLoggedIn:t,credentials:a}=this.props.userResponse;if(this.setState({loading:!0}),!t)return this.setState({loading:!1}),void this.props.setLoginModal(!0,"LOGIN");const n=s.wishlist;n&&n.id>0?this.props.deleteWishlist(n.id).then((()=>{s.wishlist=null,this.setState({product:s,loading:!1})})):this.props.saveWishlist({id:e}).then((()=>{s.wishlist=this.props.wishlistResponse.data,this.setState({product:s,loading:!1})}))}render(){const{product:e,inventory:s,wishlist:t,promo:a}=this.state.product,{loading:r,toast:p,button:h}=this.state,j=a&&a.status,b=a&&a.percentage;let g=e.productPrice*b/100,x=e.productPrice-g;const O={position:"absolute",zIndex:"2",top:"calc(4% - 16px)",height:"100%",cursor:"pointer",border:"none"},y={fontSize:"14px",fontWeight:"500"},f=e.rating?e.rating:0;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m.a,{}),Object(u.jsxs)(n.ab,{children:[Object(u.jsx)(n.p,{sm:"12",md:"5",lg:"5",children:Object(u.jsx)(o.Carousel,{showArrows:!0,infiniteLoop:!0,renderArrowPrev:(e,s,t)=>s&&Object(u.jsx)("button",{type:"button",onClick:e,title:t,className:"arrow-style",style:{...O,left:0},children:Object(u.jsx)(i.a,{size:"40",style:{color:"white"}})}),renderArrowNext:(e,s,t)=>s&&Object(u.jsx)("button",{type:"button",onClick:e,title:t,className:"arrow-style",style:{...O,right:0},children:Object(u.jsx)(i.b,{size:"40",style:{color:"white"}})}),children:e.fileImages.length>0?e.fileImages.map(((e,s)=>Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:"/images/products/"+e.path+e.fileName})},s))):Object(u.jsx)("img",{src:l.NO_IMAGE_BASE64})})}),Object(u.jsx)(n.p,{sm:"12",md:"7",lg:"7",children:Object(u.jsxs)(n.i,{className:"border-0 p-3",children:[Object(u.jsx)(n.n,{children:e.productName}),Object(u.jsxs)(n.j,{className:" ps-0",children:[Object(u.jsx)("div",{className:"d-flex justify-content-start align-items-center",children:f?Object(u.jsx)(c.a,{count:5,value:f||0,size:24,edit:!1}):Object(u.jsx)("div",{style:{padding:"5px 0px"},children:Object(u.jsx)("span",{className:"text-black-50 ",children:"No Rating"})})}),e.sku&&Object(u.jsxs)("div",{className:"mt-2 mb-2",style:{...y},children:[Object(u.jsx)("span",{className:"text-black-50 me-3 ",children:"SKU"}),Object(u.jsx)("span",{className:"text-black-50 me-3 ",children:"112354879"})]}),Object(u.jsxs)("div",{className:"mt-2 mb-2",style:{...y},children:[Object(u.jsx)("span",{className:"me-3 text-black-50",children:"Brand"}),Object(u.jsx)("span",{className:"me-3",children:e.brand?e.brand.brand:"No Brand"})]}),Object(u.jsx)("div",{className:"mt-3 mb-3  d-flex align-items-center justify-content-between",children:Object(u.jsxs)("h5",{className:"peso-price",children:["\u20b1",j?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"text-muted text-decoration-line-through me-2",style:{fontSize:"16px"},children:e.productPrice.toFixed(2)}),Object(u.jsx)("span",{children:x.toFixed(2)}),Object(u.jsx)("span",{className:"text-muted ms-3",style:{fontSize:"16px"},children:b+"%"})]}):e.productPrice.toFixed(2)]})}),Object(u.jsxs)("div",{className:"product-stock-container",children:[Object(u.jsx)("span",{className:"stock-label",children:"Stock: "}),a?Object(u.jsx)("span",{className:"stock-label-value",children:a.quantity}):s.totalStock>0?Object(u.jsx)("span",{className:"stock-label-value",children:s.totalStock}):this.manageStatus(s.status)]}),Object(u.jsx)("hr",{})]}),h?Object(u.jsx)(n.k,{className:"bg-transparent",children:Object(u.jsx)("div",{className:"d-flex justify-content-end ",children:j||"OUT_OF_STOCK"!=s.status?Object(u.jsxs)(n.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center w-100",onClick:this.handleAddToCart,disabled:r,children:[r?Object(u.jsx)(n.fb,{size:"sm"}):Object(u.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(u.jsx)(d.e,{})}),Object(u.jsx)("span",{className:"ms-2",children:"Add To Cart"})]}):Object(u.jsxs)(n.f,{type:"button",color:"info",className:"d-flex justify-content-center align-items-center w-100",onClick:()=>{this.handleAddToWishlist(e.id)},disabled:r,style:{background:"pink"},children:[r?Object(u.jsx)(n.fb,{size:"sm"}):Object(u.jsx)("span",{className:"d-flex align-items-center login-icon me-2",children:Object(u.jsx)(d.k,{})}),Object(u.jsx)("span",{className:"ms-2",children:t?"Remove Wishlist":"Add To Wishlist"})]})})}):Object(u.jsx)(u.Fragment,{})]})})]})]})}}s.a=Object(h.b)((e=>({modalVisibleResponse:e.modalVisibleResponse,userResponse:e.userResponse,wishlistResponse:e.wishlistResponse})),{setLoginModal:j.i,addToCart:p.a,saveWishlist:b.c,deleteWishlist:b.a})(g)},435:function(e,s,t){"use strict";var a=t(0),n=t(452),i=t(461),o=t.n(i),r=t(462),c=t.n(r),l=t(8);class d extends a.Component{constructor(...e){super(...e),this.state={description:this.props.productDescription},this.createMarkup=e=>({__html:o.a.sanitize(e)})}render(){let{description:e}=this.state,s=e&&JSON.parse(e);if(s){let e=Object(n.convertFromRaw)(s);const t=n.EditorState.createWithContent(e),a=c()(Object(n.convertToRaw)(t.getCurrentContent()));return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"preview ps-4",dangerouslySetInnerHTML:this.createMarkup(a)})})}return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"preview ps-4"})})}}s.a=d}}]);
//# sourceMappingURL=31.59fc4a1c.chunk.js.map