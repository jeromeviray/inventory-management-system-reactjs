(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[58],{429:function(e,t,s){"use strict";s.d(t,"l",(function(){return a})),s.d(t,"k",(function(){return i})),s.d(t,"e",(function(){return o})),s.d(t,"h",(function(){return d})),s.d(t,"g",(function(){return r})),s.d(t,"o",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"c",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"d",(function(){return h})),s.d(t,"j",(function(){return u})),s.d(t,"f",(function(){return b})),s.d(t,"p",(function(){return j})),s.d(t,"q",(function(){return O})),s.d(t,"n",(function(){return y})),s.d(t,"m",(function(){return A})),s.d(t,"r",(function(){return g})),s.d(t,"i",(function(){return S}));var n=s(2);const a=(e,t,s)=>async a=>{a({type:n.SET_PRODUCTEDITMODAL_VISIBILIT,payload:{status:200,data:{visible:e,action:t,icon:s}}})},i=(e,t,s)=>async a=>{a({type:n.SET_PRODUCT_DETAILS_MODAL,payload:{status:200,data:{visible:e,action:t,product:s}}})},o=(e,t,s,a)=>async i=>{i({type:n.EDIT_PRODUCT_MODAL,payload:{status:200,data:{visible:e,action:t,product:s,icon:a}}})},d=(e,t,s,a)=>async i=>{i({type:n.ALERT_MODAL,payload:{action:t,module:s,alert:e,data:{id:a}}})},r=(e,t,s,a)=>async i=>{i({type:n.ALERT_BAN_MODAL,payload:{action:t,module:s,alert:e,data:{id:a}}})},c=(e,t,s,a)=>async i=>{i({type:n.UDPATE_STORE_INFORMATION,payload:{status:200,data:{visible:e,action:t,storeInfo:s,icon:a}}})},l=(e,t,s,a)=>async i=>{i({type:n.ADD_BRAND_MODAL,payload:{status:200,data:{visible:e,action:t,brand:s,icon:a}}})},p=(e,t,s,a)=>async i=>{i({type:n.ADD_CATEGORY_MODAL,payload:{status:200,data:{visible:e,action:t,category:s,icon:a}}})},m=(e,t,s,a)=>async i=>{i({type:n.ADD_EMPLOYEE_MODAL,payload:{status:200,data:{visible:e,action:t,employee:s,icon:a}}})},h=(e,t,s,a)=>async i=>{i({type:n.CHANGE_PASSWORD_MODAL,payload:{status:200,data:{visible:e,action:t,employee:s,icon:a}}})},u=(e,t)=>async s=>{s({type:n.LOGIN_MODAL,payload:{data:{visible:e,action:t}}})},b=(e,t,s,a)=>async i=>{i({type:n.SET_ADDRESS_MODAL,payload:{data:{visible:e,action:t,address:s,icon:a}}})},j=(e,t,s,a)=>async i=>{i({type:n.SET_SUPPLIER_MODAL,payload:{action:t,data:{visible:e,icon:a,supplier:s}}})},O=(e,t,s,a)=>async i=>{i({type:n.SET_SUPPLY_MODAL,payload:{action:t,data:{visible:e,icon:a,supply:s}}})},y=(e,t)=>async s=>{s({type:n.SET_SCAN_MODAL,payload:{action:t,data:{visible:e}}})},A=(e,t,s,a)=>async i=>{i({type:n.SET_PROMO_MODAL,payload:{action:t,data:{visible:e,icon:a,promo:s}}})},g=(e,t,s,a)=>async i=>{i({type:n.SET_TERMS_AND_CONDITION_MODAL,payload:{status:200,data:{visible:e,action:t,termsAndCondition:s,icon:a}}})},S=(e,t,s,a)=>async i=>{i({type:n.SET_CAROULSE_MDOAL,payload:{status:200,data:{visible:e,action:t,carousel:s,icon:a}}})}},690:function(e,t,s){"use strict";s.r(t),s.d(t,"TermsAndCondition",(function(){return v}));var n=s(428),a=s(0),i=s(451),o=s(430),d=s(55),r=s(14),c=s(2),l=s(56),p=s(128);var m=new class{saveTermsAndCondition(e){return l.a.post("/terms/save",{content:e},{headers:Object(p.a)()})}updateTermsAndCondition(e,t){return l.a.put("/terms/update/"+e,{content:t},{headers:Object(p.a)()})}getTermsAndCondition(){return l.a.get("/terms",{headers:Object(p.a)()})}};var h=s(462),u=s(475),b=s.n(u),j=s(476),O=s.n(j),y=s(683),A=s(429),g=s(431),S=s(8);class T extends a.Component{constructor(...e){super(...e),this.state={visible:!1,icon:"",loading:!1,message:"",action:"",status:"",successFully:"",editorState:h.EditorState.createEmpty(),validated:!1,id:""},this.onEditorStateChange=e=>{this.setState({editorState:e})},this.manageStoreInfo=(e,t)=>{if(e.modalVisible!==this.props.modalVisible){let{visible:e,action:t,termsAndCondition:s,icon:n}=this.props.modalVisible;"Edit"===t?this.setState({id:s.id,visible:e,icon:n,action:t,editorState:s.content?h.EditorState.createWithContent(Object(h.convertFromRaw)(JSON.parse(s.content))):h.EditorState.createEmpty()}):"Add"===t?this.setState({visible:e,icon:n,action:t}):this.setState({visible:e,branchId:"",branchName:"",icon:"",action:"",loading:!1})}},this.handleOnSubmit=e=>{e.preventDefault();!1===e.currentTarget.checkValidity()&&e.stopPropagation(),this.setState({validated:!0,loading:!0});const{action:t}=this.state;"Add"===t?this.handleSave():"Edit"===t&&this.handleEdit()},this.handleSave=()=>{const{editorState:e}=this.state,t=JSON.stringify(Object(h.convertToRaw)(e.getCurrentContent()));this.props.saveTermsAndCondition(t).then((()=>{this.setState({validated:!1,loading:!1}),this.props.setTermAndConditionModal(!1,"close","","")})).catch((()=>{this.setState({loading:!1})}))},this.handleEdit=()=>{const{id:e,editorState:t}=this.state,s=JSON.stringify(Object(h.convertToRaw)(t.getCurrentContent()));this.props.updateTermsAndCondition(e,s).then((()=>{this.setState({validated:!1,loading:!1}),this.props.setTermAndConditionModal(!1,"close","","")})).catch((()=>{this.setState({loading:!1})}))}}componentDidUpdate(e,t){this.manageStoreInfo(e,t)}render(){let{visible:e,action:t,icon:s,loading:a,successFully:i,message:o,editorState:d,validated:r}=this.state;return Object(S.jsx)("div",{children:Object(S.jsxs)(n.P,{visible:e,size:"xl",scrollable:!0,children:[Object(S.jsx)(n.S,{onDismiss:()=>{this.props.setTermAndConditionModal(!1,"close","",""),this.props.clearMessage()},children:Object(S.jsx)(n.T,{children:Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[s,t+" Terms and Condition"]})})}),Object(S.jsxs)(n.Q,{children:[o&&Object(S.jsx)("div",{className:"form-group",children:Object(S.jsx)("div",{className:i?"alert alert-success":"alert alert-danger",role:"alert",children:o})}),Object(S.jsx)(n.B,{onSubmit:this.handleOnSubmit,id:"branch-form",noValidate:!0,validated:r,children:Object(S.jsx)("div",{className:"mb-3",children:Object(S.jsx)(n.bb,{children:Object(S.jsx)(n.q,{sm:"12",md:"12",lg:"12",className:"mt-4",children:Object(S.jsx)(y.Editor,{editorState:d,wrapperClassName:"editor-wrapper",editorClassName:"editor",onEditorStateChange:this.onEditorStateChange,placeholder:"Inser Description about your Store",toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","emoji","remove","history"]}})})})})})]}),Object(S.jsxs)(n.R,{children:[Object(S.jsx)(n.f,{color:"dark",variant:"ghost",onClick:()=>{this.props.setTermAndConditionModal(!1,"close","",""),this.props.clearMessage()},children:"Close"}),Object(S.jsxs)(n.f,{color:"primary",disabled:a,type:"submit",form:"branch-form",children:[a&&Object(S.jsx)(n.gb,{size:"sm",className:"ms-1"}),"Save ","Edit"===t?"Changes":"Terms And Condition"]})]})]})})}}var C=Object(d.b)((e=>({modalVisible:e.modalVisibleResponse,messageResponse:e.messageResponse})),{setTermAndConditionModal:A.r,clearMessage:g.a,saveTermsAndCondition:e=>async t=>m.saveTermsAndCondition(e).then((e=>(t({type:c.SAVE_TERMS_AND_CONDITION,payload:{status:200,action:c.SAVE_TERMS_AND_CONDITION,data:{}}}),t({type:r.g,payload:{status:200,data:{message:"Successfully Saved"}}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),n=e.response&&e.response.data&&e.response.data.code||e.toString();return t({type:r.g,payload:{status:n,data:{message:s}}}),Promise.reject()})),updateTermsAndCondition:(e,t)=>async s=>m.updateTermsAndCondition(e,t).then((e=>(s({type:c.UPDATE_TERMS_AND_CONDITION,payload:{status:200,action:c.UPDATE_TERMS_AND_CONDITION,data:{termsAndCondition:e.data}}}),s({type:r.g,payload:{status:200,data:{message:"Successfully Updated"}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),n=e.response&&e.response.data&&e.response.data.code||e.toString();return s({type:r.g,payload:{status:n,data:{message:t}}}),Promise.reject()}))})(T);class v extends a.Component{constructor(...e){super(...e),this.state={termsAndCondition:[],visible:!1},this.manageTermsAndConditionResponse=(e,t)=>{if(e.termsAndConditionResponse!==this.props.termsAndConditionResponse){const{action:e,status:t,data:s}=this.props.termsAndConditionResponse;"GET_TERMS_AND_CONDITION"===e&&200===t&&this.setState({termsAndCondition:s})}},this.manageStoreInfo=(e,t)=>{if(e.modalVisible!==this.props.modalVisible){let{action:e}=this.props.modalVisible;"close"===e&&this.props.getTermsAndCondition()}},this.createMarkup=e=>({__html:b.a.sanitize(e)})}componentDidMount(){this.props.getTermsAndCondition()}componentDidUpdate(e,t){this.manageTermsAndConditionResponse(e,t),this.manageStoreInfo(e,t)}render(){const{termsAndCondition:e,visible:t}=this.state,{content:s}=e;let a="",d=Object(S.jsx)(S.Fragment,{});if(s){let t=e&&JSON.parse(s);if(t){a=Object(h.convertFromRaw)(t);const e=h.EditorState.createWithContent(a);d=O()(Object(h.convertToRaw)(e.getCurrentContent()))}}const r={marginBottom:"12px",marginLeft:"5px"};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsxs)(n.i,{children:[Object(S.jsxs)(n.m,{className:"d-flex justify-content-between align-items-center",children:[Object(S.jsx)(n.o,{children:"Terms And Condition"}),Object(S.jsx)("div",{className:"",children:e?Object(S.jsx)(n.f,{color:"info",variant:"ghost",size:"sm",onClick:()=>this.props.setTermAndConditionModal(!t,"Edit",e,Object(S.jsx)(i.d,{size:"24",className:"me-2"})),children:Object(S.jsx)(i.d,{size:"20"})}):Object(S.jsxs)(n.f,{color:"info",variant:"ghost",size:"sm",onClick:()=>this.props.setTermAndConditionModal(!t,"Add",null,Object(S.jsx)(o.r,{size:20})),children:[Object(S.jsx)(o.r,{size:20}),","]})})]}),Object(S.jsx)(n.j,{children:e?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"text-black-50 d-flex justify-content-between align-items-center mb-3",children:[Object(S.jsxs)("h6",{className:"m-0 pe-3 mb-2",children:["Created Date:",Object(S.jsx)("strong",{style:{...r},children:e.createdAt})]}),Object(S.jsxs)("h6",{className:"m-0 pe-3 mb-2",children:["Last Updated Date:",Object(S.jsx)("strong",{style:{...r},children:e.updatedAt})]})]}),Object(S.jsx)("hr",{}),Object(S.jsx)(n.n,{className:"p-3 d-flex justify-content-center",children:Object(S.jsx)("div",{className:"preview ps-4",dangerouslySetInnerHTML:this.createMarkup(d)})})]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"preview ps-4 text-warning",children:"No Terms And Condition Created"})})})]})]})}}t.default=Object(d.b)((e=>({modalVisible:e.modalVisibleResponse,messageResponse:e.messageResponse,termsAndConditionResponse:e.termsAndConditionResponse})),{getTermsAndCondition:()=>async e=>m.getTermsAndCondition().then((t=>(e({type:c.GET_TERMS_AND_CONDITION,payload:{status:200,action:c.GET_TERMS_AND_CONDITION,data:{termsAndCondition:t.data}}}),Promise.resolve())),(t=>{const s=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),n=t.response&&t.response.data&&t.response.data.code||t.toString();return e({type:r.g,payload:{status:n,data:{message:s}}}),Promise.reject()})),setTermAndConditionModal:A.r})(v)}}]);
//# sourceMappingURL=58.bbf4642f.chunk.js.map