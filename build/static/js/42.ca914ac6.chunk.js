(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[42],{569:function(t,e,s){"use strict";s.d(e,"l",(function(){return a})),s.d(e,"k",(function(){return i})),s.d(e,"e",(function(){return o})),s.d(e,"h",(function(){return r})),s.d(e,"g",(function(){return d})),s.d(e,"o",(function(){return c})),s.d(e,"b",(function(){return l})),s.d(e,"c",(function(){return p})),s.d(e,"a",(function(){return m})),s.d(e,"d",(function(){return u})),s.d(e,"j",(function(){return h})),s.d(e,"f",(function(){return b})),s.d(e,"p",(function(){return j})),s.d(e,"q",(function(){return O})),s.d(e,"n",(function(){return y})),s.d(e,"m",(function(){return A})),s.d(e,"r",(function(){return g})),s.d(e,"i",(function(){return S}));var n=s(1);const a=(t,e,s)=>async a=>{a({type:n.SET_PRODUCTEDITMODAL_VISIBILIT,payload:{status:200,data:{visible:t,action:e,icon:s}}})},i=(t,e,s)=>async a=>{a({type:n.SET_PRODUCT_DETAILS_MODAL,payload:{status:200,data:{visible:t,action:e,product:s}}})},o=(t,e,s,a)=>async i=>{i({type:n.EDIT_PRODUCT_MODAL,payload:{status:200,data:{visible:t,action:e,product:s,icon:a}}})},r=(t,e,s,a)=>async i=>{i({type:n.ALERT_MODAL,payload:{action:e,module:s,alert:t,data:{id:a}}})},d=(t,e,s,a)=>async i=>{i({type:n.ALERT_BAN_MODAL,payload:{action:e,module:s,alert:t,data:{id:a}}})},c=(t,e,s,a)=>async i=>{i({type:n.UDPATE_STORE_INFORMATION,payload:{status:200,data:{visible:t,action:e,storeInfo:s,icon:a}}})},l=(t,e,s,a)=>async i=>{i({type:n.ADD_BRAND_MODAL,payload:{status:200,data:{visible:t,action:e,brand:s,icon:a}}})},p=(t,e,s,a)=>async i=>{i({type:n.ADD_CATEGORY_MODAL,payload:{status:200,data:{visible:t,action:e,category:s,icon:a}}})},m=(t,e,s,a)=>async i=>{i({type:n.ADD_EMPLOYEE_MODAL,payload:{status:200,data:{visible:t,action:e,employee:s,icon:a}}})},u=(t,e,s,a)=>async i=>{i({type:n.CHANGE_PASSWORD_MODAL,payload:{status:200,data:{visible:t,action:e,employee:s,icon:a}}})},h=(t,e)=>async s=>{s({type:n.LOGIN_MODAL,payload:{data:{visible:t,action:e}}})},b=(t,e,s,a)=>async i=>{i({type:n.SET_ADDRESS_MODAL,payload:{data:{visible:t,action:e,address:s,icon:a}}})},j=(t,e,s,a)=>async i=>{i({type:n.SET_SUPPLIER_MODAL,payload:{action:e,data:{visible:t,icon:a,supplier:s}}})},O=(t,e,s,a)=>async i=>{i({type:n.SET_SUPPLY_MODAL,payload:{action:e,data:{visible:t,icon:a,supply:s}}})},y=(t,e)=>async s=>{s({type:n.SET_SCAN_MODAL,payload:{action:e,data:{visible:t}}})},A=(t,e,s,a)=>async i=>{i({type:n.SET_PROMO_MODAL,payload:{action:e,data:{visible:t,icon:a,promo:s}}})},g=(t,e,s,a)=>async i=>{i({type:n.SET_TERMS_AND_CONDITION_MODAL,payload:{status:200,data:{visible:t,action:e,termsAndCondition:s,icon:a}}})},S=(t,e,s,a)=>async i=>{i({type:n.SET_CAROULSE_MDOAL,payload:{status:200,data:{visible:t,action:e,carousel:s,icon:a}}})}},707:function(t,e,s){"use strict";s.d(e,"b",(function(){return d})),s.d(e,"c",(function(){return c})),s.d(e,"a",(function(){return l}));var n=s(16),a=s(1),i=s(62),o=s(152);var r=new class{saveTermsAndCondition(t){return i.a.post("/terms/save",{content:t},{headers:Object(o.a)()})}updateTermsAndCondition(t,e){return i.a.put("/terms/update/"+t,{content:e},{headers:Object(o.a)()})}getTermsAndCondition(){return i.a.get("/terms",{headers:Object(o.a)()})}};const d=t=>async e=>r.saveTermsAndCondition(t).then((t=>(e({type:a.SAVE_TERMS_AND_CONDITION,payload:{status:200,action:a.SAVE_TERMS_AND_CONDITION,data:{}}}),e({type:n.g,payload:{status:200,data:{message:"Successfully Saved"}}}),Promise.resolve())),(t=>{const s=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),a=t.response&&t.response.data&&t.response.data.code||t.toString();return e({type:n.g,payload:{status:a,data:{message:s}}}),Promise.reject()})),c=(t,e)=>async s=>r.updateTermsAndCondition(t,e).then((t=>(s({type:a.UPDATE_TERMS_AND_CONDITION,payload:{status:200,action:a.UPDATE_TERMS_AND_CONDITION,data:{termsAndCondition:t.data}}}),s({type:n.g,payload:{status:200,data:{message:"Successfully Updated"}}}),Promise.resolve())),(t=>{const e=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),a=t.response&&t.response.data&&t.response.data.code||t.toString();return s({type:n.g,payload:{status:a,data:{message:e}}}),Promise.reject()})),l=()=>async t=>r.getTermsAndCondition().then((e=>(t({type:a.GET_TERMS_AND_CONDITION,payload:{status:200,action:a.GET_TERMS_AND_CONDITION,data:{termsAndCondition:e.data}}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),a=e.response&&e.response.data&&e.response.data.code||e.toString();return t({type:n.g,payload:{status:a,data:{message:s}}}),Promise.reject()}))},826:function(t,e,s){"use strict";s.r(e),s.d(e,"TermsAndConditionController",(function(){return O}));var n=s(568),a=s(0),i=s(592),o=s(570),r=s(48),d=s(707),c=s(596),l=s(603),p=s.n(l),m=s(604),u=s.n(m),h=s(827),b=s(569),j=s(7);class O extends a.Component{constructor(...t){super(...t),this.state={termsAndCondition:[],visible:!1},this.manageTermsAndConditionResponse=(t,e)=>{if(t.termsAndConditionResponse!==this.props.termsAndConditionResponse){const{action:t,status:e,data:s}=this.props.termsAndConditionResponse;"GET_TERMS_AND_CONDITION"===t&&200===e&&this.setState({termsAndCondition:s})}},this.manageStoreInfo=(t,e)=>{if(t.modalVisible!==this.props.modalVisible){let{action:t}=this.props.modalVisible;"close"===t&&this.props.getTermsAndCondition()}},this.createMarkup=t=>({__html:p.a.sanitize(t)})}componentDidMount(){this.props.getTermsAndCondition()}componentDidUpdate(t,e){this.manageTermsAndConditionResponse(t,e),this.manageStoreInfo(t,e)}render(){const{termsAndCondition:t,visible:e}=this.state,{content:s}=t;let a="",r=Object(j.jsx)(j.Fragment,{});if(s){let e=t&&JSON.parse(s);if(e){a=Object(c.convertFromRaw)(e);const t=c.EditorState.createWithContent(a);r=u()(Object(c.convertToRaw)(t.getCurrentContent()))}}const d={marginBottom:"12px",marginLeft:"5px"};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h.a,{}),Object(j.jsxs)(n.i,{children:[Object(j.jsxs)(n.m,{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)(n.o,{children:"Terms And Condition"}),Object(j.jsx)("div",{className:"",children:t?Object(j.jsx)(n.f,{color:"info",variant:"ghost",size:"sm",onClick:()=>this.props.setTermAndConditionModal(!e,"Edit",t,Object(j.jsx)(i.d,{size:"24",className:"me-2"})),children:Object(j.jsx)(i.d,{size:"20"})}):Object(j.jsxs)(n.f,{color:"info",variant:"ghost",size:"sm",onClick:()=>this.props.setTermAndConditionModal(!e,"Add",null,Object(j.jsx)(o.s,{size:20})),children:[Object(j.jsx)(o.s,{size:20}),","]})})]}),Object(j.jsx)(n.j,{children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"text-black-50 d-flex justify-content-between align-items-center mb-3",children:[Object(j.jsxs)("h6",{className:"m-0 pe-3 mb-2",children:["Created Date:",Object(j.jsx)("strong",{style:{...d},children:t.createdAt})]}),Object(j.jsxs)("h6",{className:"m-0 pe-3 mb-2",children:["Last Updated Date:",Object(j.jsx)("strong",{style:{...d},children:t.updatedAt})]})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(n.n,{className:"p-3 d-flex justify-content-center",children:Object(j.jsx)("div",{className:"preview ps-4",dangerouslySetInnerHTML:this.createMarkup(r)})})]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"preview ps-4 text-warning",children:"No Terms And Condition Created"})})})]})]})}}e.default=Object(r.b)((t=>({modalVisible:t.modalVisibleResponse,messageResponse:t.messageResponse,termsAndConditionResponse:t.termsAndConditionResponse})),{getTermsAndCondition:d.a,setTermAndConditionModal:b.r})(O)},827:function(t,e,s){"use strict";var n=s(0),a=s(568),i=s(596),o=s(748),r=s(569),d=s(707),c=s(573),l=s(48),p=s(7);class m extends n.Component{constructor(...t){super(...t),this.state={visible:!1,icon:"",loading:!1,message:"",action:"",status:"",successFully:"",editorState:i.EditorState.createEmpty(),validated:!1,id:""},this.onEditorStateChange=t=>{this.setState({editorState:t})},this.manageStoreInfo=(t,e)=>{if(t.modalVisible!==this.props.modalVisible){let{visible:t,action:e,termsAndCondition:s,icon:n}=this.props.modalVisible;"Edit"===e?this.setState({id:s.id,visible:t,icon:n,action:e,editorState:s.content?i.EditorState.createWithContent(Object(i.convertFromRaw)(JSON.parse(s.content))):i.EditorState.createEmpty()}):"Add"===e?this.setState({visible:t,icon:n,action:e}):this.setState({visible:t,branchId:"",branchName:"",icon:"",action:"",loading:!1})}},this.handleOnSubmit=t=>{t.preventDefault();!1===t.currentTarget.checkValidity()&&t.stopPropagation(),this.setState({validated:!0,loading:!0});const{action:e}=this.state;"Add"===e?this.handleSave():"Edit"===e&&this.handleEdit()},this.handleSave=()=>{const{editorState:t}=this.state,e=JSON.stringify(Object(i.convertToRaw)(t.getCurrentContent()));this.props.saveTermsAndCondition(e).then((()=>{this.setState({validated:!1,loading:!1}),this.props.setTermAndConditionModal(!1,"close","","")})).catch((()=>{this.setState({loading:!1})}))},this.handleEdit=()=>{const{id:t,editorState:e}=this.state,s=JSON.stringify(Object(i.convertToRaw)(e.getCurrentContent()));this.props.updateTermsAndCondition(t,s).then((()=>{this.setState({validated:!1,loading:!1}),this.props.setTermAndConditionModal(!1,"close","","")})).catch((()=>{this.setState({loading:!1})}))}}componentDidUpdate(t,e){this.manageStoreInfo(t,e)}render(){let{visible:t,action:e,icon:s,loading:n,successFully:i,message:r,editorState:d,validated:c}=this.state;return Object(p.jsx)("div",{children:Object(p.jsxs)(a.P,{visible:t,size:"xl",scrollable:!0,children:[Object(p.jsx)(a.S,{onDismiss:()=>{this.props.setTermAndConditionModal(!1,"close","",""),this.props.clearMessage()},children:Object(p.jsx)(a.T,{children:Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[s,e+" Terms and Condition"]})})}),Object(p.jsxs)(a.Q,{children:[r&&Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("div",{className:i?"alert alert-success":"alert alert-danger",role:"alert",children:r})}),Object(p.jsx)(a.B,{onSubmit:this.handleOnSubmit,id:"branch-form",noValidate:!0,validated:c,children:Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsx)(a.bb,{children:Object(p.jsx)(a.q,{sm:"12",md:"12",lg:"12",className:"mt-4",children:Object(p.jsx)(o.Editor,{editorState:d,wrapperClassName:"editor-wrapper",editorClassName:"editor",onEditorStateChange:this.onEditorStateChange,placeholder:"Inser Description about your Store",toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","emoji","remove","history"]}})})})})})]}),Object(p.jsxs)(a.R,{children:[Object(p.jsx)(a.f,{color:"dark",variant:"ghost",onClick:()=>{this.props.setTermAndConditionModal(!1,"close","",""),this.props.clearMessage()},children:"Close"}),Object(p.jsxs)(a.f,{color:"primary",disabled:n,type:"submit",form:"branch-form",children:[n&&Object(p.jsx)(a.gb,{size:"sm",className:"ms-1"}),"Save ","Edit"===e?"Changes":"Terms And Condition"]})]})]})})}}e.a=Object(l.b)((t=>({modalVisible:t.modalVisibleResponse,messageResponse:t.messageResponse})),{setTermAndConditionModal:r.r,clearMessage:c.a,saveTermsAndCondition:d.b,updateTermsAndCondition:d.c})(m)}}]);
//# sourceMappingURL=42.ca914ac6.chunk.js.map