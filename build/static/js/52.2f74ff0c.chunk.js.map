{"version":3,"sources":["service/restAPI/OrderApiService.js","service/apiActions/indexAction.js","service/apiActions/orderAction/orderAction.js","components/orderTabContent/OrderCard.js","components/orderTabContent/OrderDetails.js"],"names":["getOrders","status","axios","get","headers","authHeader","getPaymentTransactions","query","page","limit","params","updateOrderPaymentStatus","orderId","paymentStatus","put","placeOrderDetails","orderDetails","post","customerAddressId","addressId","paymentId","paymentMethodId","cartItems","items","getOrderByOrderId","updateOrderStatus","validateCart","data","handleError","error","dispatch","errorMessage","response","message","toString","code","type","SET_MESSAGE","payload","async","OrderApiService","then","GET_ORDERS","action","orders","orderStatusCount","orderCounts","Promise","resolve","reject","getOrderItems","ORDER_ITEMS","placeOrder","orderDetials","PLACE_ORDER","order","GET_ORDER_BY_ID","UPDATE_ORDER_STATUS","toUpperCase","UPDATE_PAYMENT_STATUS","GET_PAYMENT_TRANSACTIONS","payments","VALIDATE_CART","error_messages","length","join","OrderCard","Component","constructor","props","super","this","state","orderItem","item","canReview","comment","rating","submitted","canViewReview","render","isSubmitted","fontStyle","fontSize","fontWeight","className","rounded","src","product","fileImages","config","api","private","baseUrl","path","fileName","NO_IMAGE_BASE64","width","height","productName","style","productPrice","toFixed","quantity","amount","count","value","size","isHalf","edit","onChange","newRating","handleOrderReview","disabled","event","target","id","rows","placeholder","OrderDetails","customerAddress","hasError","manageOrderResponse","prevProps","prevState","orderResponse","setState","downloadQRCode","console","log","qrCodeURL","document","getElementById","toDataURL","replace","aEl","createElement","href","download","body","appendChild","click","removeChild","componentDidMount","location","catch","componentDidUpdate","firstName","lastName","phoneNumber","street","barangay","province","region","city","postalCode","firstNameUpperCase","charAt","slice","lastNameUpperCase","qrValue","onClick","history","goBack","variant","color","role","trigger","content","componentRef","ref","el","orderItems","map","index","cursor","String","includeMargin","orderedAt","paymentMethod","orderStatus","totalAmount","connect","messageResponse","clearMessage"],"mappings":"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","file":"static/js/52.2f74ff0c.chunk.js","sourcesContent":["import authHeader from '../auth/authHeader';\nimport axios from './RestApi';\n\nexport class OrderApiService {\n    getOrders(status) {\n        return axios.get(\"/orders/status/\" + status, {\n            headers: authHeader()\n        })\n    }\n\n    getPaymentTransactions(query, page, limit) {\n        return axios.get(\"/orders/payments\", {\n            headers: authHeader(),\n            params: {\n                query: query,\n                page: page,\n                limit: limit\n            }\n        })\n    }\n\n    updateOrderPaymentStatus(orderId, paymentStatus) {\n        return axios.put(\"/orders/\" + orderId + \"/paid/\" + paymentStatus, {}, {\n            headers: authHeader()\n        })\n    }\n\n\n    placeOrderDetails(orderDetails) {\n        return axios.post(\"/orders/checkout\", {\n            customerAddressId: orderDetails.addressId,\n            paymentId: orderDetails.paymentMethodId,\n            cartItems: orderDetails.items\n        }, {\n            headers: authHeader()\n        })\n    }\n\n    getOrderByOrderId(orderId) {\n        return axios.get(\"/orders/\" + orderId, {\n            headers: authHeader()\n        })\n    }\n\n    updateOrderStatus(orderId, status) {\n        return axios.put(\"/orders/\" + orderId + \"/status/\" + status, {}, {\n            headers: authHeader()\n        })\n    }\n\n    validateCart(data) {\n        return axios.post(\"/orders/validate\", data, {\n            headers: authHeader()\n        })\n    }\n}\nexport default new OrderApiService();","import { SET_MESSAGE } from \"src/constants/userConstants\";\n\nexport const handleError = (error, dispatch) => {\n    const errorMessage =\n        (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n        error.message ||\n        error.toString();\n\n    const status = (error.response &&\n        error.response.data &&\n        error.response.data.code) ||\n        error.toString();\n\n    dispatch({\n        type: SET_MESSAGE,\n        payload: {\n            status: status,\n            data: {\n                message: errorMessage\n            }\n        }\n    })\n}","import { VALIDATE_CART, GET_ORDER_BY_ID, GET_ORDERS, ORDER_ITEMS, PLACE_ORDER, UPDATE_ORDER_STATUS, GET_PAYMENT_TRANSACTIONS, UPDATE_PAYMENT_STATUS } from \"src/service/redux/constants\";\nimport { SET_MESSAGE } from \"src/constants/userConstants\";\nimport OrderApiService from \"src/service/restAPI/OrderApiService\";\nimport { handleError } from \"../indexAction\";\n\nexport const getOrders = (status, page, limit) => async (dispatch) => {\n    return OrderApiService.getOrders(status, page, limit).then(\n        (response) => {\n            dispatch({\n                type: GET_ORDERS,\n                payload: {\n                    status: 200,\n                    action: \"GET_ORDERS\",\n                    data: {\n                        orders: response.data.orders,\n                        orderStatusCount: response.data.orderCounts\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n\n}\n\nexport const getOrderItems = (items) => async (dispatch) => {\n    dispatch({\n        type: ORDER_ITEMS,\n        payload: {\n            status: 200,\n            action: \"ORDERITEMS\",\n            data: {\n                items: items\n            }\n        }\n    })\n}\n\nexport const placeOrder = (orderDetials) => async (dispatch) => {\n    return OrderApiService.placeOrderDetails(orderDetials).then(\n        (response) => {\n            dispatch({\n                type: PLACE_ORDER,\n                payload: {\n                    status: 200,\n                    action: \"PLACE_ORDER\",\n                    data: {\n\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully Place your Order\",\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const getOrderByOrderId = (orderId) => async (dispatch) => {\n    return OrderApiService.getOrderByOrderId(orderId).then(\n        (response) => {\n            dispatch({\n                type: GET_ORDER_BY_ID,\n                payload: {\n                    status: 200,\n                    action: \"GETORDERBYID\",\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const updateOrderStatus = (orderId, status) => async (dispatch) => {\n    return OrderApiService.updateOrderStatus(orderId, status).then(\n        (response) => {\n            dispatch({\n                type: UPDATE_ORDER_STATUS,\n                payload: {\n                    status: 200,\n                    action: UPDATE_ORDER_STATUS,\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully updated order \" + orderId + \" status to \" + status.toUpperCase(),\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const updateOrderPaymentStatus = (orderId, paymentStatus) => async (dispatch) => {\n    return OrderApiService.updateOrderPaymentStatus(orderId, paymentStatus).then(\n        (response) => {\n            dispatch({\n                type: UPDATE_PAYMENT_STATUS,\n                payload: {\n                    status: 200,\n                    action: UPDATE_PAYMENT_STATUS,\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        //message: \"Successfully updated order \" + orderId + \" status to \" + status.toUpperCase(),\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const getPaymentTransactions = (query, page, limit) => async (dispatch) => {\n    return OrderApiService.getPaymentTransactions(query, page, limit).then(\n        (response) => {\n            dispatch({\n                type: GET_PAYMENT_TRANSACTIONS,\n                payload: {\n                    status: 200,\n                    action: \"GET_PAYMENT_TRANSACTIONS\",\n                    data: {\n                        payments: response.data,\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const validateCart = (data) => async (dispatch) => {\n    return OrderApiService.validateCart(data).then(\n        (response) => {\n            dispatch({\n                type: VALIDATE_CART,\n                payload: {\n                    status: 200,\n                    action: VALIDATE_CART,\n                    data: response.data\n                }\n            })\n\n            if (response.data.error_messages.length > 0) {\n                dispatch({\n                    type: SET_MESSAGE,\n                    payload: {\n                        status: 400,\n                        data: {\n                            message: response.data.error_messages.join(\"\\n\")\n                        }\n                    }\n                })\n            }\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n","import React, { Component } from \"react\"\nimport {\n  CCard,\n  CCardBody,\n  CRow,\n  CCol,\n  CImage,\n  CFormLabel,\n  CFormTextarea,\n} from \"@coreui/react\"\nimport { NO_IMAGE_BASE64 } from \"src/service/redux/constants\"\nimport ReactStars from \"react-rating-stars-component\"\n\nimport config from \"../../config\";\n\nexport class OrderCard extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      orderItem: this.props.item,\n      canReview: this.props.canReview,\n      orderId: this.props.orderId,\n      comment: this.props.comment,\n      rating: this.props.rating,\n      submitted: this.props.submitted,\n      canViewReview: this.props.canViewReview,\n    }\n  }\n  render() {\n    let {\n      orderItem,\n      canReview,\n      rating,\n      comment,\n      orderId,\n      submitted,\n      canViewReview,\n    } = this.state\n    let isSubmitted = submitted\n    if (canViewReview && !canReview) {\n      submitted = true\n    }\n    const fontStyle = {\n      fontSize: \"14px\",\n      fontWeight: \"400\",\n    }\n    return (\n      <CRow className=\"mb-3\">\n        <CCard>\n          <CCardBody>\n            <div className=\"d-flex align-items-start\">\n              <CImage\n                rounded\n                src={\n                  orderItem.product.fileImages.length > 0\n                    ? config.api.private.baseUrl + \"/api/v1/products/getImages/bytesArrays/\" +\n                    orderItem.product.fileImages[0].path +\n                    orderItem.product.fileImages[0].fileName\n                    : NO_IMAGE_BASE64\n                }\n                width={100}\n                height={100}\n              />\n              <div className=\"ms-2  w-100\">\n                <CRow className=\"d-flex justify-content-between\">\n                  <CCol className=\"ps-4 text-dark\">\n                    {orderItem.product.productName}\n                  </CCol>\n                  <CCol className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Price\n                    </span>\n                    <span className=\"pt-3\">\n                      &#8369;{orderItem.product.productPrice.toFixed(2)}\n                    </span>\n                  </CCol>\n                  <CCol className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Quantity\n                    </span>\n                    <span className=\"pt-3\">{orderItem.quantity}</span>\n                  </CCol>\n                  <CCol className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Amount\n                    </span>\n                    <span className=\"pt-3\">\n                      &#8369;{orderItem.amount.toFixed(2)}\n                    </span>\n                  </CCol>\n                </CRow>\n                {(canReview || (canViewReview && isSubmitted)) && (\n                  <div>\n                    <ReactStars\n                      count={5}\n                      value={rating}\n                      size={24}\n                      isHalf={false}\n                      edit={!submitted}\n                      onChange={(newRating) => {\n                        this.props.handleOrderReview(\n                          orderId,\n                          orderItem,\n                          newRating,\n                          comment,\n                        )\n                      }}\n                    />\n                    <div className=\"mb-!2\">\n                      <textarea\n                        disabled={submitted}\n                        onChange={(event) => {\n                          this.props.handleOrderReview(\n                            orderId,\n                            orderItem,\n                            rating,\n                            event.target.value,\n                          )\n                        }}\n                        id=\"exampleFormControlTextarea1\"\n                        rows=\"3\"\n                        style={{ width: \"100%\" }}\n                        placeholder=\"Please write a review.\"\n                      >\n                        {comment}\n                      </textarea>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </CCardBody>\n        </CCard>\n      </CRow>\n    )\n  }\n}\n\nexport default OrderCard\n","import React, { Component } from 'react'\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CContainer,\n    CCardHeader,\n    CRow\n} from '@coreui/react';\nimport { connect } from 'react-redux';\n//action\nimport { clearMessage } from 'src/service/apiActions/messageAction/messageAction';\nimport { getOrderByOrderId } from 'src/service/apiActions/orderAction/orderAction';\n\n//helper\nimport { history } from 'src/_helper/history';\n//icon\nimport * as IoIcons from \"react-icons/io5\"\nimport OrderCard from './OrderCard';\n//npm\nimport ReactToPrint from 'react-to-print';\nimport QRCode from 'qrcode.react';\n\nexport class OrderDetails extends Component {\n    state = {\n        message: '',\n        order: [],\n        orderId: '',\n        customerAddress: [],\n        hasError: false\n    }\n    componentDidMount() {\n        let orderId = this.props.location.state;\n        this.props.getOrderByOrderId(orderId).catch(() => {\n            this.setState({\n                hasError: true\n            })\n        })\n    }\n    componentDidUpdate(prevProps, prevState) {\n        this.manageOrderResponse(prevProps, prevState);\n    }\n\n    manageOrderResponse = (prevProps, prevState) => {\n\n        if (prevProps.orderResponse !== this.props.orderResponse) {\n            let { status, action, data } = this.props.orderResponse;\n            if (status === 200 && action === \"GETORDERBYID\") {\n                this.setState({\n                    order: data.order,\n                    customerAddress: data.order.customerAddress,\n                    orderId: data.order.orderId\n                })\n            }\n        }\n    }\n    downloadQRCode = () => {\n        let { orderId } = this.state.order;\n        console.log(orderId);\n        const qrCodeURL = document\n            .getElementById('qrCodeEl').toDataURL('image/png')\n            .replace('image/png', 'image/octet-stream');\n\n        let aEl = document.createElement('a');\n        aEl.href = qrCodeURL;\n        aEl.download = 'QR_Code' + orderId + '.png';\n        document.body.appendChild(aEl);\n        aEl.click();\n        document.body.removeChild(aEl);\n    }\n    render() {\n        let { order, message, hasError, customerAddress } = this.state;\n        const {\n            firstName,\n            lastName,\n            phoneNumber,\n            street,\n            barangay,\n            province,\n            region,\n            city,\n            postalCode } = customerAddress;\n        let firstNameUpperCase = firstName && firstName.charAt(0).toUpperCase() + firstName.slice(1);\n        let lastNameUpperCase = lastName && lastName.charAt(0).toUpperCase() + lastName.slice(1);\n        let qrValue = order && order.orderId;\n        return (\n            <>\n                <CButton\n                    onClick={() => history.goBack()}\n                    variant=\"ghost\"\n                    color=\"secondary\"\n                    className=\"d-flex align-items-center\"\n                >\n                    <IoIcons.IoChevronBack size={20} />\n                    <span className=\"ms-2\">back</span>\n                </CButton>\n\n                {message && (\n                    <div className=\"form-group d-flex justify-content-center align-items-center\">\n                        <div className=\"alert alert-danger\" role=\"alert\">\n                            {message}\n                        </div>\n                    </div>\n                )}\n\n                {hasError ? <></> :\n                    <div className=\"mb-4\">\n                        <div className=\"d-flex align-items-end flex-row-reverse m-2\">\n\n                            <ReactToPrint\n                                trigger={() =>\n                                    <CButton\n                                        color=\"info\"\n                                        className=\"d-flex align-items-center\"\n                                    >\n                                        <IoIcons.IoPrintOutline size={20} />\n                                    </CButton>\n                                }\n                                content={() => this.componentRef}\n                            />\n                        </div>\n                        <div ref={(el) => (this.componentRef = el)} className=\"ps-4 pe-4 pt-3\">\n                            <CCard className=\"border-envelope\">\n                                <CCardBody>\n                                    <h5 className=\"text-black-50\">Customer Address</h5>\n\n                                    <h6>\n                                        <span className=\"mb-2 text-black-50 me-2 font-style \">Name:</span>\n\n                                        {firstNameUpperCase + \" \" + lastNameUpperCase}\n                                    </h6>\n                                    <h6 >\n                                        <span className=\"mb-2 text-black-50 me-2  font-style \">Contact:</span>\n                                        {phoneNumber}\n                                    </h6>\n                                    <h6>\n                                        <span className=\"mb-2 text-black-50 me-2  font-style \">Address:</span>\n\n                                        {\"# \" + street + \", \" + barangay + \", \" + city + \", \" + province + \", \" + region}\n                                    </h6>\n\n                                </CCardBody>\n                            </CCard>\n                            <CCard className=\"mt-3\">\n                                <CCardHeader>\n                                    <span style={{ fontSize: \"14px\", fontWeight: \"400\" }} className=\"text-black-50\">\n                                        Order ID: {order && order.orderId}\n                                    </span>\n                                </CCardHeader>\n                                <CCardBody>\n                                    <CContainer>\n                                        {order.orderItems && order.orderItems.map((item, index) => {\n\n                                            return (\n                                                <OrderCard item={item} key={index} />\n                                            )\n                                        })}\n                                    </CContainer>\n\n\n                                </CCardBody>\n                            </CCard>\n                            <CCard className=\"mt-3\">\n                                <CCardHeader>\n                                    <h5 className=\"text-black-50\">Summary Payment Details</h5>\n\n                                </CCardHeader>\n                                <CCardBody className=\"d-flex justify-content-between\">\n                                    <div className=\"d-flex justify-content-center flex-column\">\n                                        <a onClick={this.downloadQRCode} style={{ cursor: \"pointer\" }}>\n                                            <QRCode\n                                                id=\"qrCodeEl\"\n                                                value={String(qrValue)}\n                                                // renderAs=\"svg\"\n                                                includeMargin={true}\n                                            />\n                                        </a>\n\n                                        <CButton onClick={this.downloadQRCode} color=\"link\">Download QR</CButton>\n                                    </div>\n                                    <div className=\"d-flex flex-column\">\n                                        <div className=\"font-style mt-2\">\n                                            <span className=\"text-black-50 me-2\">\n                                                Date of Ordered:\n                                            </span>\n                                            <span className=\"font-style\">{order.orderedAt}</span>\n                                        </div>\n\n                                        <div className=\"font-style mt-2\">\n                                            <span className=\"text-black-50 me-2 font-style\">\n                                                Payment Method:\n                                            </span>\n                                            <span className=\"font-style\">{order.paymentMethod && order.paymentMethod.paymentMethod}</span>\n\n                                        </div>\n                                        <div className=\"font-style mt-2\">\n                                            <span className=\"text-black-50 me-2 font-style\">\n                                                Order Status:\n                                            </span>\n                                            <span className=\"text-danger\" >{order.orderStatus}</span>\n\n                                        </div>\n                                        <div className=\"mt-2\">\n                                            <span className=\" font-style text-black-50 me-2\">\n                                                Total Amount\n                                            </span>\n                                            <span className=\"font-style\">\n                                                &#8369;{order.totalAmount && order.totalAmount.toFixed(2)}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </CCardBody>\n                            </CCard>\n                        </div>\n\n                    </div>\n                }\n            </>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        orderResponse: state.orderResponse,\n        messageResponse: state.messageResponse\n    }\n}\nexport default connect(mapStateToProps, {\n    getOrderByOrderId,\n    clearMessage\n})(OrderDetails)\n"],"sourceRoot":""}