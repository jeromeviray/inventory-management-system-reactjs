{"version":3,"sources":["components/orderTabContent/Orders.js","service/restAPI/OrderApiService.js","service/apiActions/indexAction.js","service/apiActions/orderAction/orderAction.js","components/orderTabContent/OrderCard.js","service/restAPI/CommentApiService.js","service/apiActions/commentAction/commentAction.js"],"names":["Orders","Component","constructor","props","super","state","message","status","action","orders","token","permission","path","orderReviews","manageorderRepsonse","prevProps","prevState","orderResponse","this","data","setState","manageHrefLinkBasedInPermission","Roles","SUPER_ADMIN","ADMIN","handleOrderReview","bind","componentDidMount","type","accessToken","roles","userResponse","credentials","roleName","getPermission","href","getOrders","componentDidUpdate","handleOrder","orderData","orderStatus","orderId","updateOrderStatus","then","index","findIndex","o","splice","length","totalCounts","toUpperCase","totalCountChange","renderOrderAction","order","paymentStatus","orderButton","toLowerCase","onClick","disabled","handleOrderView","event","preventDefault","formattedReviews","key","value","push","rating","comment","anonymous","published","product","id","parseInt","saveComments","submitted","item","orderIndex","ctt2","comments","console","log","ctt","ct","render","fontStyle","fontSize","fontWeight","className","map","hasPendingReview","order_id","canReview","canViewReview","firstName","lastName","street","barangay","province","region","city","phoneNumber","customerAddress","style","onSubmit","orderItems","float","to","pathname","config","api","private","prefixFrontendUrl","orderedAt","paymentMethod","totalAmount","toFixed","connect","messageResponse","clearMessage","axios","get","headers","authHeader","getPaymentTransactions","query","page","limit","params","updateOrderPaymentStatus","put","placeOrderDetails","orderDetails","post","customerAddressId","addressId","paymentId","paymentMethodId","cartItems","items","getOrderByOrderId","handleError","error","dispatch","errorMessage","response","toString","code","SET_MESSAGE","payload","async","OrderApiService","GET_ORDERS","orderStatusCount","orderCounts","Promise","resolve","reject","getOrderItems","ORDER_ITEMS","placeOrder","orderDetials","PLACE_ORDER","GET_ORDER_BY_ID","UPDATE_ORDER_STATUS","UPDATE_PAYMENT_STATUS","GET_PAYMENT_TRANSACTIONS","payments","OrderCard","orderItem","isSubmitted","rounded","src","fileImages","baseUrl","fileName","NO_IMAGE_BASE64","width","height","productName","productPrice","quantity","amount","count","size","isHalf","edit","onChange","newRating","target","rows","placeholder","getComments","productId","saveComment","commentDetails","deleteComment","commentId","delete","CommentApiService","GET_COMMENTS","wishlistDetails","ADD_COMMENT"],"mappings":"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","file":"static/js/40.1669a0ac.chunk.js","sourcesContent":["import React, { Component } from \"react\"\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCardFooter,\n  CRow,\n  CContainer,\n  CButton,\n  CForm,\n} from \"@coreui/react\"\nimport { Link } from \"react-router-dom\"\n//action\nimport { saveComments } from \"src/service/apiActions/commentAction/commentAction\"\nimport {\n  getOrders,\n  updateOrderStatus,\n} from \"src/service/apiActions/orderAction/orderAction\"\nimport { clearMessage } from \"src/service/apiActions/messageAction/messageAction\"\nimport { connect } from \"react-redux\"\nimport OrderCard from \"./OrderCard\"\nimport Roles from \"src/router/config\"\nimport ReactPaginate from \"react-paginate\"\n\nimport config from \"../../config\"\n\nexport class Orders extends Component {\n  state = {\n    message: \"\",\n    status: \"\",\n    action: \"\",\n    orders: [],\n    token: \"\",\n    permission: \"\",\n    path: \"\",\n  }\n\n  orderReviews = {}\n\n  constructor(props) {\n    super(props)\n    this.state.status = props.status\n    this.handleOrderReview = this.handleOrderReview.bind(this)\n  }\n  componentDidMount() {\n    let { type, accessToken, roles } = this.props.userResponse.credentials\n    let token = type + accessToken\n    let roleName = roles.roleName\n    let getPermission = roleName ? roleName : roles\n    let href = this.manageHrefLinkBasedInPermission(getPermission)\n\n    this.setState({\n      token: token,\n      permission: roles.roleName ? roles.roleName : roles,\n      path: href,\n    })\n\n    this.props.getOrders(this.state.status)\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.manageorderRepsonse(prevProps, prevState)\n  }\n\n  manageorderRepsonse = (prevProps, prevState) => {\n    if (prevProps.orderResponse !== this.props.orderResponse) {\n      let { status, action, data } = this.props.orderResponse\n      if (status === 200 && action === \"GET_ORDERS\") {\n        this.setState({\n          orders: data.orders,\n        })\n      }\n    }\n  }\n\n  manageHrefLinkBasedInPermission = (permission) => {\n    if (permission === Roles.SUPER_ADMIN || permission === Roles.ADMIN) {\n      return \"/app/order/\"\n    } else {\n      return \"/user/order/\"\n    }\n  }\n\n  handleOrder(orderData, orderStatus) {\n    let orderId = orderData.orderId\n    this.props.updateOrderStatus(orderId, orderStatus).then(() => {\n      let orders = this.state.orders\n      const order = this.props.orderResponse.data\n      const index = orders.findIndex((o) => o.orderId == orderId)\n      orders.splice(index, 1)\n      if (orders.length == 0) {\n        this.props.getOrders(this.state.status, 0, 10)\n      } else {\n        let totalCounts = this.props.totalCounts\n        if (typeof totalCounts[orderStatus.toUpperCase()] == \"undefined\") {\n          totalCounts[orderStatus.toUpperCase()] = 0\n        }\n        if (orderStatus == \"payment_received\") {\n          totalCounts[orderData.orderStatus.toUpperCase()]--\n          totalCounts[orderStatus.toUpperCase()]++\n          this.props.totalCountChange(totalCounts)\n          this.setState({\n            orders: orders,\n          })\n        }\n      }\n    })\n  }\n\n  renderOrderAction(orderStatus, order, paymentStatus) {\n    let orderButton = <></>\n    switch (orderStatus.toLowerCase()) {\n      case \"pending\":\n        orderButton = (\n          <CButton\n            onClick={() => {\n              this.handleOrder(order, \"confirmed\")\n            }}\n          >\n            Confirm Order\n          </CButton>\n        )\n        break\n      case \"confirmed\":\n        orderButton = (\n          <CButton\n            onClick={() => {\n              this.handleOrder(order, \"shipped\")\n            }}\n          >\n            Mark as Shipped\n          </CButton>\n        )\n        break\n      case \"shipped\":\n        orderButton = (\n          <CButton\n            onClick={() => {\n              this.handleOrder(order, \"delivered\")\n            }}\n          >\n            Mark as Delivered\n          </CButton>\n        )\n        break\n      case \"delivered\":\n        orderButton = (\n          <CButton\n            onClick={() => {\n              this.handleOrder(order, \"payment_received\")\n            }}\n            disabled={paymentStatus === \"Paid\" ? true : false}\n          >\n            {paymentStatus === \"Paid\"\n              ? \"Payment Recieved\"\n              : \"Mark as Payment Received\"}\n          </CButton>\n        )\n        break\n    }\n    return orderButton\n  }\n\n  handleOrderView(event, order) {\n    event.preventDefault()\n\n    let formattedReviews = []\n    let orderReviews = this.orderReviews[order.orderId]\n    for (var key in orderReviews) {\n      let value = orderReviews[key]\n      formattedReviews.push({\n        rating: value.rating,\n        message: value.comment,\n        anonymous: true,\n        published: 0,\n        product: {\n          id: parseInt(key),\n        },\n        orderId: order.id,\n      })\n    }\n    this.props.saveComments(formattedReviews).then(() => {\n      for (var key in orderReviews) {\n        this.orderReviews[order.orderId][key].submitted = true\n      }\n    })\n  }\n\n  handleOrderReview(orderId, item, rating, comment) {\n    const { orders } = this.state\n    let orderIndex = orders.findIndex((ctt2) => ctt2.orderId == orderId)\n    const { comments } = orders[orderIndex]\n\n    let submitted = false\n\n    if (typeof this.orderReviews[orderId] == \"undefined\") {\n      this.orderReviews[orderId] = {\n        [item.product.id]: {\n          rating: rating,\n          comment: comment,\n          submitted: false,\n        },\n      }\n    }\n\n    console.log(comments)\n    let index =\n      comments && comments.findIndex((ctt) => ctt.product.id == item.product.id)\n\n    if (index >= 0) {\n      const ct = comments[index]\n      rating = ct.rating\n      comment = ct.message\n      submitted = true\n    }\n\n    this.orderReviews[orderId][item.product.id] = {\n      rating: rating,\n      comment: comment,\n      submitted: submitted,\n    }\n  }\n\n  render() {\n    let { message, orders, permission, path } = this.state\n    const fontStyle = {\n      fontSize: \"14px\",\n      fontWeight: \"400\",\n    }\n    return (\n      <>\n        {orders.length === 0 ? (\n          <CCard>\n            <CCardBody>\n              <div className=\"text-center\">No Order Data</div>\n            </CCardBody>\n          </CCard>\n        ) : (\n          orders.map((order, index) => {\n            let hasPendingReview = order.comments.findIndex(\n              (comment) => comment.order_id == order.id,\n            )\n\n            const canReview =\n              (order.orderStatus == \"DELIVERED\" ||\n                order.orderStatus == \"PAYMENT_RECEIVED\") &&\n              permission !== Roles.SUPER_ADMIN &&\n              permission !== Roles.ADMIN\n            const canViewReview =\n              (order.orderStatus == \"DELIVERED\" ||\n                order.orderStatus == \"PAYMENT_RECEIVED\") &&\n              (permission == Roles.SUPER_ADMIN || permission == Roles.ADMIN)\n\n            const {\n              firstName,\n              lastName,\n              street,\n              barangay,\n              province,\n              region,\n              city,\n              phoneNumber,\n            } = order.customerAddress\n            let paymentStatus = \"Payment Pending\"\n            switch (order.paymentStatus) {\n              case 1:\n                paymentStatus = \"Paid\"\n                break\n              case 2:\n                paymentStatus = \"Failed\"\n                break\n            }\n            return (\n              <CCard className=\"mb-3\" key={index}>\n                <CCardHeader>\n                  <CRow className=\"p-2\">\n                    <span\n                      style={{ fontSize: \"14px\", fontWeight: \"400\" }}\n                      className=\"text-black-50\"\n                    >\n                      Order ID: {order.orderId}\n                    </span>\n                    <span\n                      style={{ fontSize: \"14px\", fontWeight: \"400\" }}\n                      className=\"text-black-50\"\n                    >\n                      Customer Name: {firstName + \" \" + lastName}\n                    </span>\n                    <span\n                      style={{ fontSize: \"14px\", fontWeight: \"400\" }}\n                      className=\"text-black-50\"\n                    >\n                      Mobile: {phoneNumber}\n                    </span>\n                    <span\n                      style={{ fontSize: \"14px\", fontWeight: \"400\" }}\n                      className=\"text-black-50\"\n                    >\n                      Address:{\" \"}\n                      {street +\n                        \" \" +\n                        \" \" +\n                        barangay +\n                        \", \" +\n                        city +\n                        \", \" +\n                        province}\n                    </span>\n                  </CRow>\n                </CCardHeader>\n                <CCardBody>\n                  <CForm\n                    onSubmit={(event) => {\n                      this.handleOrderView(event, order)\n                    }}\n                  >\n                    <CContainer>\n                      {order.orderItems.map((item, index) => {\n                        this.handleOrderReview(order.orderId, item, 5, \"\")\n                        const { rating, comment, submitted } =\n                          this.orderReviews[order.orderId][item.product.id]\n                        return (\n                          <OrderCard\n                            item={item}\n                            canReview={canReview}\n                            canViewReview={canViewReview}\n                            orderId={order.orderId}\n                            comment={comment}\n                            rating={rating}\n                            key={index}\n                            submitted={submitted}\n                            handleOrderReview={this.handleOrderReview}\n                          />\n                        )\n                      })}\n                    </CContainer>\n                    {hasPendingReview >= 0 && canReview && (\n                      <CButton type=\"submit\" style={{ float: \"right\" }}>\n                        Submit Product Review\n                      </CButton>\n                    )}\n                  </CForm>\n                </CCardBody>\n                <CCardFooter className=\"p-4\">\n                  <div className=\"d-flex justify-content-between align-items-end\">\n                    <div className=\"d-flex align-items-bottom\">\n                      {/* {order.orderItems.map((item, index) => {\n                                                return (\n\n                                                )\n\n                                            })} */}\n                      <Link\n                        to={{\n                          pathname:\n                            config.api.private.prefixFrontendUrl +\n                            path +\n                            order.orderId,\n                          state: order.orderId,\n                        }}\n                        className=\"m-2\"\n                      >\n                        View More\n                      </Link>\n\n                      {permission === Roles.SUPER_ADMIN ||\n                      permission === Roles.ADMIN ? (\n                        this.renderOrderAction(\n                          this.state.status,\n                          order,\n                          paymentStatus,\n                        )\n                      ) : (\n                        <></>\n                      )}\n                    </div>\n                    <div className=\"d-flex flex-column\">\n                      <div style={fontStyle} className=\"mt-2\">\n                        <span className=\"text-black-50 me-2\">\n                          Date of Ordered:\n                        </span>\n                        <span style={{ fontWeight: \"500\" }}>\n                          {order.orderedAt}\n                        </span>\n                      </div>\n\n                      <div style={fontStyle} className=\"mt-2\">\n                        <span style={fontStyle} className=\"text-black-50 me-2\">\n                          Payment Method:\n                        </span>\n                        <span style={{ fontWeight: \"500\" }}>\n                          {order.paymentMethod.paymentMethod}\n                        </span>\n                      </div>\n                      <div style={fontStyle} className=\"mt-2\">\n                        <span style={fontStyle} className=\"text-black-50 me-2\">\n                          Payment Status:\n                        </span>\n                        <span style={{ fontWeight: \"500\" }}>\n                          {paymentStatus}\n                        </span>\n                      </div>\n                      <div style={fontStyle} className=\"mt-2\">\n                        <span style={fontStyle} className=\"text-black-50 me-2\">\n                          Order Status:\n                        </span>\n                        <span\n                          className=\"text-danger\"\n                          style={{ fontWeight: \"500\" }}\n                        >\n                          {order.orderStatus}\n                        </span>\n                      </div>\n                      <div className=\"mt-2\">\n                        <span style={fontStyle} className=\"text-black-50 me-2\">\n                          Total Amount\n                        </span>\n                        <span style={{ fontWeight: \"500\" }}>\n                          &#8369;{order.totalAmount.toFixed(2)}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </CCardFooter>\n              </CCard>\n            )\n          })\n        )}\n        {/* <ReactPaginate\n                    previousLabel={\"previous\"}\n                    nextLabel={\"next\"}\n                    breakLabel={\"...\"}\n                    breakClassName={\"break-me\"}\n                    // pageCount={inventories.totalPages}\n                    marginPagesDisplayed={2}\n                    pageRangeDisplayed={5}\n                    // onPageChange={this.handlePageClick}\n                    containerClassName={\"pagination\"}\n                    activeClassName={\"active\"}\n                /> */}\n      </>\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    orderResponse: state.orderResponse,\n    messageResponse: state.messageResponse,\n    userResponse: state.userResponse,\n  }\n}\nexport default connect(mapStateToProps, {\n  getOrders,\n  clearMessage,\n  updateOrderStatus,\n  saveComments,\n})(Orders)\n","import authHeader from '../auth/authHeader';\nimport axios from './RestApi';\n\nexport class OrderApiService {\n    getOrders(status) {\n        return axios.get(\"/orders/status/\" + status, {\n            headers: authHeader()\n        })\n    }\n\n    getPaymentTransactions(query, page, limit) {\n        return axios.get(\"/orders/payments\", {\n            headers: authHeader(),\n            params: {\n                query: query,\n                page: page,\n                limit: limit\n            }\n        })\n    }\n\n    updateOrderPaymentStatus(orderId, paymentStatus) {\n        return axios.put(\"/orders/\" + orderId + \"/paid/\" + paymentStatus, {}, {\n            headers: authHeader()\n        })\n    }\n\n\n    placeOrderDetails(orderDetails) {\n        return axios.post(\"/orders/checkout\", {\n            customerAddressId: orderDetails.addressId,\n            paymentId: orderDetails.paymentMethodId,\n            cartItems: orderDetails.items\n        }, {\n            headers: authHeader()\n        })\n    }\n\n    getOrderByOrderId(orderId) {\n        return axios.get(\"/orders/\" + orderId, {\n            headers: authHeader()\n        })\n    }\n\n    updateOrderStatus(orderId, status) {\n        return axios.put(\"/orders/\" + orderId + \"/status/\" + status, {}, {\n            headers: authHeader()\n        })\n    }\n}\nexport default new OrderApiService();","import { SET_MESSAGE } from \"src/constants/userConstants\";\n\nexport const handleError = (error, dispatch) => {\n    const errorMessage =\n        (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n        error.message ||\n        error.toString();\n\n    const status = (error.response &&\n        error.response.data &&\n        error.response.data.code) ||\n        error.toString();\n\n    dispatch({\n        type: SET_MESSAGE,\n        payload: {\n            status: status,\n            data: {\n                message: errorMessage\n            }\n        }\n    })\n}","import { GET_ORDER_BY_ID, GET_ORDERS, ORDER_ITEMS, PLACE_ORDER, UPDATE_ORDER_STATUS, GET_PAYMENT_TRANSACTIONS, UPDATE_PAYMENT_STATUS } from \"src/service/redux/constants\";\nimport { SET_MESSAGE } from \"src/constants/userConstants\";\nimport OrderApiService from \"src/service/restAPI/OrderApiService\";\nimport { handleError } from \"../indexAction\";\n\nexport const getOrders = (status, page, limit) => async (dispatch) => {\n    return OrderApiService.getOrders(status, page, limit).then(\n        (response) => {\n            dispatch({\n                type: GET_ORDERS,\n                payload: {\n                    status: 200,\n                    action: \"GET_ORDERS\",\n                    data: {\n                        orders: response.data.orders,\n                        orderStatusCount: response.data.orderCounts\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n\n}\n\nexport const getOrderItems = (items) => async (dispatch) => {\n    dispatch({\n        type: ORDER_ITEMS,\n        payload: {\n            status: 200,\n            action: \"ORDERITEMS\",\n            data: {\n                items: items\n            }\n        }\n    })\n}\n\nexport const placeOrder = (orderDetials) => async (dispatch) => {\n    return OrderApiService.placeOrderDetails(orderDetials).then(\n        (response) => {\n            dispatch({\n                type: PLACE_ORDER,\n                payload: {\n                    status: 200,\n                    action: \"PLACE_ORDER\",\n                    data: {\n\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully Place your Order\",\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const getOrderByOrderId = (orderId) => async (dispatch) => {\n    return OrderApiService.getOrderByOrderId(orderId).then(\n        (response) => {\n            dispatch({\n                type: GET_ORDER_BY_ID,\n                payload: {\n                    status: 200,\n                    action: \"GETORDERBYID\",\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const updateOrderStatus = (orderId, status) => async (dispatch) => {\n    return OrderApiService.updateOrderStatus(orderId, status).then(\n        (response) => {\n            dispatch({\n                type: UPDATE_ORDER_STATUS,\n                payload: {\n                    status: 200,\n                    action: UPDATE_ORDER_STATUS,\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully updated order \" + orderId + \" status to \" + status.toUpperCase(),\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const updateOrderPaymentStatus = (orderId, paymentStatus) => async (dispatch) => {\n    return OrderApiService.updateOrderPaymentStatus(orderId, paymentStatus).then(\n        (response) => {\n            dispatch({\n                type: UPDATE_PAYMENT_STATUS,\n                payload: {\n                    status: 200,\n                    action: UPDATE_PAYMENT_STATUS,\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        //message: \"Successfully updated order \" + orderId + \" status to \" + status.toUpperCase(),\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const getPaymentTransactions = (query, page, limit) => async (dispatch) => {\n    return OrderApiService.getPaymentTransactions(query, page, limit).then(\n        (response) => {\n            dispatch({\n                type: GET_PAYMENT_TRANSACTIONS,\n                payload: {\n                    status: 200,\n                    action: \"GET_PAYMENT_TRANSACTIONS\",\n                    data: {\n                        payments: response.data,\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}","import React, { Component } from \"react\"\nimport {\n  CCard,\n  CCardBody,\n  CRow,\n  CCol,\n  CImage,\n  CFormLabel,\n  CFormTextarea,\n} from \"@coreui/react\"\nimport { NO_IMAGE_BASE64 } from \"src/service/redux/constants\"\nimport ReactStars from \"react-rating-stars-component\"\n\nimport config from \"../../config\";\n\nexport class OrderCard extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      orderItem: this.props.item,\n      canReview: this.props.canReview,\n      orderId: this.props.orderId,\n      comment: this.props.comment,\n      rating: this.props.rating,\n      submitted: this.props.submitted,\n      canViewReview: this.props.canViewReview,\n    }\n  }\n  render() {\n    let {\n      orderItem,\n      canReview,\n      rating,\n      comment,\n      orderId,\n      submitted,\n      canViewReview,\n    } = this.state\n    let isSubmitted = submitted\n    if (canViewReview && !canReview) {\n      submitted = true\n    }\n    const fontStyle = {\n      fontSize: \"14px\",\n      fontWeight: \"400\",\n    }\n    return (\n      <CRow className=\"mb-3\">\n        <CCard>\n          <CCardBody>\n            <div className=\"d-flex align-items-start\">\n              <CImage\n                rounded\n                src={\n                  orderItem.product.fileImages.length > 0\n                    ? config.api.private.baseUrl + \"/api/v1/products/getImages/bytesArrays/\" +\n                    orderItem.product.fileImages[0].path +\n                    orderItem.product.fileImages[0].fileName\n                    : NO_IMAGE_BASE64\n                }\n                width={100}\n                height={100}\n              />\n              <div className=\"ms-2  w-100\">\n                <CRow className=\"d-flex justify-content-between\">\n                  <CCol className=\"ps-4 text-dark\">\n                    {orderItem.product.productName}\n                  </CCol>\n                  <CCol className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Price\n                    </span>\n                    <span className=\"pt-3\">\n                      &#8369;{orderItem.product.productPrice.toFixed(2)}\n                    </span>\n                  </CCol>\n                  <CCol className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Quantity\n                    </span>\n                    <span className=\"pt-3\">{orderItem.quantity}</span>\n                  </CCol>\n                  <CCol className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Amount\n                    </span>\n                    <span className=\"pt-3\">\n                      &#8369;{orderItem.amount.toFixed(2)}\n                    </span>\n                  </CCol>\n                </CRow>\n                {(canReview || (canViewReview && isSubmitted)) && (\n                  <div>\n                    <ReactStars\n                      count={5}\n                      value={rating}\n                      size={24}\n                      isHalf={false}\n                      edit={!submitted}\n                      onChange={(newRating) => {\n                        this.props.handleOrderReview(\n                          orderId,\n                          orderItem,\n                          newRating,\n                          comment,\n                        )\n                      }}\n                    />\n                    <div className=\"mb-!2\">\n                      <textarea\n                        disabled={submitted}\n                        onChange={(event) => {\n                          this.props.handleOrderReview(\n                            orderId,\n                            orderItem,\n                            rating,\n                            event.target.value,\n                          )\n                        }}\n                        id=\"exampleFormControlTextarea1\"\n                        rows=\"3\"\n                        style={{ width: \"100%\" }}\n                        placeholder=\"Please write a review.\"\n                      >\n                        {comment}\n                      </textarea>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </CCardBody>\n        </CCard>\n      </CRow>\n    )\n  }\n}\n\nexport default OrderCard\n","import authHeader from '../auth/authHeader';\nimport axios from './RestApi';\n\nexport class CommentApiService {\n    getComments(productId, page, limit) {\n        return axios.get(\"/comments\", {\n            params: {\n                productId: productId,\n                page: page,\n                limit: limit,\n            }\n        })\n    }\n    saveComment(commentDetails) {\n        return axios.post(\"/comments\", commentDetails, {\n            headers: authHeader()\n        })\n    }\n    saveComments(commentDetails) {\n        return axios.post(\"/comments/bulk\", commentDetails, {\n            headers: authHeader()\n        })\n    }\n    deleteComment(commentId) {\n        return axios.delete(\"/comments/\" + commentId, {\n            headers: authHeader()\n        })\n    }\n}\nexport default new CommentApiService();","import { GET_COMMENTS, DELETE_COMMENT, ADD_COMMENT } from \"src/service/redux/constants\";\nimport { SET_MESSAGE } from \"src/constants/userConstants\";\nimport CommentApiService from \"src/service/restAPI/CommentApiService\";\n\n\nexport const getComments = (productId, page, limit) => async (dispatch) => {\n    return CommentApiService.getComments(productId, page, limit).then(\n        (response) => {\n            dispatch({\n                type: GET_COMMENTS,\n                payload: {\n                    status: 200,\n                    action: \"GET_COMMENT\",\n                    data: response.data\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            const errorMessage =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            const status = (error.response &&\n                error.response.data &&\n                error.response.data.code) ||\n                error.toString();\n\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: status,\n                    data: {\n                        message: errorMessage\n                    }\n                }\n            })\n            return Promise.reject();\n        }\n    )\n\n}\n\nexport const saveComment = (wishlistDetails) => async (dispatch) => {\n    return CommentApiService.saveComment(wishlistDetails).then(\n        (response) => {\n            dispatch({\n                type: ADD_COMMENT,\n                payload: {\n                    status: 200,\n                    action: \"ADD_COMMENT\",\n                    data: response.data\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully submitted product comment\",\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            const errorMessage =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            const status = (error.response &&\n                error.response.data &&\n                error.response.data.code) ||\n                error.toString();\n\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: status,\n                    data: {\n                        message: errorMessage\n                    }\n                }\n            })\n            return Promise.reject();\n        }\n    )\n}\n\nexport const saveComments = (comments) => async (dispatch) => {\n    return CommentApiService.saveComments(comments).then(\n        (response) => {\n            dispatch({\n                type: ADD_COMMENT,\n                payload: {\n                    status: 200,\n                    action: \"ADD_COMMENT\",\n                    data: response.data\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully submitted order product review\",\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            const errorMessage =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            const status = (error.response &&\n                error.response.data &&\n                error.response.data.code) ||\n                error.toString();\n\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: status,\n                    data: {\n                        message: errorMessage\n                    }\n                }\n            })\n            return Promise.reject();\n        }\n    )\n}\n\nexport const deleteComment = (wishlistId) => async (dispatch) => {\n    return CommentApiService.deleteComment(wishlistId).then(\n        (response) => {\n            dispatch({\n                type: DELETE_COMMENT,\n                payload: {\n                    status: 200,\n                    action: \"DELETE_COMMENT\",\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully deleted wishlist\"\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            const errorMessage =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n\n            const status = (error.response &&\n                error.response.data &&\n                error.response.data.code) ||\n                error.toString();\n\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: status,\n                    data: {\n                        message: errorMessage\n                    }\n                }\n            })\n            console.log(\"JKOSLDFJ\")\n            return Promise.reject();\n        }\n    )\n}"],"sourceRoot":""}