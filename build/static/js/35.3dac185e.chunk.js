(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[35],{569:function(e,t,a){"use strict";a.d(t,"l",(function(){return n})),a.d(t,"k",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"o",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"j",(function(){return h})),a.d(t,"f",(function(){return g})),a.d(t,"p",(function(){return b})),a.d(t,"q",(function(){return j})),a.d(t,"n",(function(){return f})),a.d(t,"m",(function(){return O})),a.d(t,"r",(function(){return y})),a.d(t,"i",(function(){return v})),a.d(t,"s",(function(){return x}));var s=a(1);const n=(e,t,a)=>async n=>{n({type:s.SET_PRODUCTEDITMODAL_VISIBILIT,payload:{status:200,data:{visible:e,action:t,icon:a}}})},r=(e,t,a)=>async n=>{n({type:s.SET_PRODUCT_DETAILS_MODAL,payload:{status:200,data:{visible:e,action:t,product:a}}})},i=(e,t,a,n)=>async r=>{r({type:s.EDIT_PRODUCT_MODAL,payload:{status:200,data:{visible:e,action:t,product:a,icon:n}}})},o=(e,t,a,n)=>async r=>{r({type:s.ALERT_MODAL,payload:{action:t,module:a,alert:e,data:{id:n}}})},l=(e,t,a,n)=>async r=>{r({type:s.ALERT_BAN_MODAL,payload:{action:t,module:a,alert:e,data:{id:n}}})},c=(e,t,a,n)=>async r=>{r({type:s.UDPATE_STORE_INFORMATION,payload:{status:200,data:{visible:e,action:t,storeInfo:a,icon:n}}})},d=(e,t,a,n)=>async r=>{r({type:s.ADD_BRAND_MODAL,payload:{status:200,data:{visible:e,action:t,brand:a,icon:n}}})},u=(e,t,a,n)=>async r=>{r({type:s.ADD_CATEGORY_MODAL,payload:{status:200,data:{visible:e,action:t,category:a,icon:n}}})},m=(e,t,a,n)=>async r=>{r({type:s.ADD_EMPLOYEE_MODAL,payload:{status:200,data:{visible:e,action:t,employee:a,icon:n}}})},p=(e,t,a,n)=>async r=>{r({type:s.CHANGE_PASSWORD_MODAL,payload:{status:200,data:{visible:e,action:t,employee:a,icon:n}}})},h=(e,t)=>async a=>{a({type:s.LOGIN_MODAL,payload:{data:{visible:e,action:t}}})},g=(e,t,a,n)=>async r=>{r({type:s.SET_ADDRESS_MODAL,payload:{data:{visible:e,action:t,address:a,icon:n}}})},b=(e,t,a,n)=>async r=>{r({type:s.SET_SUPPLIER_MODAL,payload:{action:t,data:{visible:e,icon:n,supplier:a}}})},j=(e,t,a,n)=>async r=>{r({type:s.SET_SUPPLY_MODAL,payload:{action:t,data:{visible:e,icon:n,supply:a}}})},f=(e,t)=>async a=>{a({type:s.SET_SCAN_MODAL,payload:{action:t,data:{visible:e}}})},O=(e,t,a,n)=>async r=>{r({type:s.SET_PROMO_MODAL,payload:{action:t,data:{visible:e,icon:n,promo:a}}})},y=(e,t,a,n)=>async r=>{r({type:s.SET_TERMS_AND_CONDITION_MODAL,payload:{status:200,data:{visible:e,action:t,termsAndCondition:a,icon:n}}})},v=(e,t,a,n)=>async r=>{r({type:s.SET_CAROULSE_MDOAL,payload:{status:200,data:{visible:e,action:t,carousel:a,icon:n}}})},x=(e,t,a,n)=>async r=>{r({type:s.SET_TRACKING_INFO_MODAL,payload:{status:200,data:{visible:e,action:t,order:a,icon:n}}})}},702:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getListFiles=t.getImage=t.getBase64=t.getAcceptTypeString=t.openFileDialog=void 0,t.openFileDialog=function(e){e.current&&e.current.click()},t.getAcceptTypeString=function(e){return e&&e.length>0?e.map((function(e){return"."+e})).join(", "):"image/*"},t.getBase64=function(e){var t=new FileReader;return new Promise((function(a){t.addEventListener("load",(function(){return a(String(t.result))})),t.readAsDataURL(e)}))},t.getImage=function(e){var t=new Image;return new Promise((function(a){t.addEventListener("load",(function(){return a(t)})),t.src=URL.createObjectURL(e)}))},t.getListFiles=function(e,a){for(var s=[],n=0;n<e.length;n+=1)s.push(t.getBase64(e[n]));return Promise.all(s).then((function(t){return t.map((function(t,s){var n;return(n={})[a]=t,n.file=e[s],n}))}))}},703:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DATA_URL_KEY=t.INIT_MAX_NUMBER=t.DEFAULT_NULL_INDEX=void 0,t.DEFAULT_NULL_INDEX=-1,t.INIT_MAX_NUMBER=1e3,t.DEFAULT_DATA_URL_KEY="dataURL"},749:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return l}));var s=a(16),n=a(1),r=a(750);const i=()=>async e=>r.a.getCarouselImages().then((t=>(e({type:n.GET_CAROUSEL_IMAGES,payload:{status:200,data:{carouselImages:t.data}}}),Promise.resolve())),(t=>{const a=t.response&&t.response.data&&t.response.data.message||t.message||t.error_message||t.toString(),n=t.response&&t.response.data&&t.response.data.code||t.toString();return e({type:s.g,payload:{status:n,data:{message:a}}}),Promise.reject()})),o=e=>async t=>r.a.saveCarouselImages(e).then((e=>(t({type:n.SAVE_CAROUSEL_IMAGES,payload:{status:200,action:n.SAVE_CAROUSEL_IMAGES,data:{}}}),t({type:s.g,payload:{status:200,data:{message:"Successfully saved."}}}),Promise.resolve())),(e=>{const a=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),n=e.response&&e.response.data&&e.response.data.code||e.toString();return t({type:s.g,payload:{status:n,data:{message:a}}}),Promise.reject()})),l=e=>async t=>r.a.updateCarouselImages(e).then((e=>(t({type:n.UPDATE_CAROUSEL_IMAGES,payload:{status:200,action:n.UPDATE_CAROUSEL_IMAGES,data:{}}}),t({type:s.g,payload:{status:200,data:{message:"Successfully updated."}}}),Promise.resolve())),(e=>{const a=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),n=e.response&&e.response.data&&e.response.data.code||e.toString();return t({type:s.g,payload:{status:n,data:{message:a}}}),Promise.reject()}))},750:function(e,t,a){"use strict";var s=a(62),n=a(152);t.a=new class{getCarouselImages(){return s.a.get("/carousel",{headers:Object(n.a)()})}saveCarouselImages(e){return s.a.post("/carousel/save",e,{headers:Object(n.a)()})}updateCarouselImages(e){return s.a.put("/carousel/update",e,{headers:Object(n.a)()})}getImages(e){return s.a.get("/carousel/getImages/bytesArrays/"+e,{headers:Object(n.a)(),responseType:"blob"})}}},827:function(e,t,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},o=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,r){function i(e){try{l(s.next(e))}catch(t){r(t)}}function o(e){try{l(s.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var a,s,n,r,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,s&&(n=2&r[0]?s.return:r[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,r[1])).done)return n;switch(s=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,s=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){i.label=r[1];break}if(6===r[0]&&i.label<n[1]){i.label=n[1],n=r;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(r);break}n[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(o){r=[6,o],s=0}finally{a=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},c=this&&this.__spreadArrays||function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<a;t++)for(var r=arguments[t],i=0,o=r.length;i<o;i++,n++)s[n]=r[i];return s};Object.defineProperty(t,"__esModule",{value:!0});var d=i(a(0)),u=a(702),m=a(828),p=a(703);t.default=function(e){var t=e.value,a=void 0===t?[]:t,n=e.onChange,r=e.onError,i=e.children,h=e.dataURLKey,g=void 0===h?p.DEFAULT_DATA_URL_KEY:h,b=e.multiple,j=void 0!==b&&b,f=e.maxNumber,O=void 0===f?p.INIT_MAX_NUMBER:f,y=e.acceptType,v=e.maxFileSize,x=e.resolutionWidth,I=e.resolutionHeight,S=e.resolutionType,E=e.inputProps,N=void 0===E?{}:E,_=a||[],A=d.useRef(null),D=d.useState(p.DEFAULT_NULL_INDEX),C=D[0],L=D[1],T=d.useState(null),R=T[0],w=T[1],M=d.useState(!1),F=M[0],U=M[1],P=d.useCallback((function(){return u.openFileDialog(A)}),[A]),k=d.useCallback((function(){L(p.DEFAULT_NULL_INDEX),P()}),[P]),V=d.useCallback((function(){null===n||void 0===n||n([])}),[n]),z=function(e){return o(void 0,void 0,void 0,(function(){var t;return l(this,(function(a){switch(a.label){case 0:return[4,m.getErrorValidation({fileList:e,maxFileSize:v,maxNumber:O,acceptType:y,keyUpdate:C,resolutionType:S,resolutionWidth:x,resolutionHeight:I,value:_})];case 1:return(t=a.sent())?(w(t),null===r||void 0===r||r(t,e),[2,!1]):(R&&w(null),[2,!0])}}))}))},G=function(e){return o(void 0,void 0,void 0,(function(){var t,a,s,r,i;return l(this,(function(o){switch(o.label){case 0:return e?[4,u.getListFiles(e,g)]:[2];case 1:return(t=o.sent()).length?[4,z(t)]:[2];case 2:if(!o.sent())return[2];if(s=[],C>p.DEFAULT_NULL_INDEX)r=t[0],(a=c(_))[C]=r,s.push(C);else if(j)for(a=c(_,t),i=_.length;i<a.length;i+=1)s.push(i);else a=[t[0]],s.push(0);return null===n||void 0===n||n(a,s),[2]}}))}))},q=d.useMemo((function(){return u.getAcceptTypeString(y)}),[y]);return d.default.createElement(d.default.Fragment,null,d.default.createElement("input",s({type:"file",accept:q,ref:A,multiple:j&&C===p.DEFAULT_NULL_INDEX,onChange:function(e){return o(void 0,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,G(e.target.files)];case 1:return t.sent(),C>p.DEFAULT_NULL_INDEX&&L(p.DEFAULT_NULL_INDEX),A.current&&(A.current.value=""),[2]}}))}))},style:{display:"none"}},N)),null===i||void 0===i?void 0:i({imageList:_,onImageUpload:k,onImageRemoveAll:V,onImageUpdate:function(e){L(e),P()},onImageRemove:function(e){var t=c(_);Array.isArray(e)?e.forEach((function(e){t.splice(e,1)})):t.splice(e,1),null===n||void 0===n||n(t)},errors:R,dragProps:{onDrop:function(e){e.preventDefault(),e.stopPropagation(),U(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&G(e.dataTransfer.files)},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&U(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),U(!1)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDragStart:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.clearData()}},isDragging:F}))}},828:function(e,t,a){"use strict";var s=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,r){function i(e){try{l(s.next(e))}catch(t){r(t)}}function o(e){try{l(s.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var a,s,n,r,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,s&&(n=2&r[0]?s.return:r[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,r[1])).done)return n;switch(s=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,s=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){i.label=r[1];break}if(6===r[0]&&i.label<n[1]){i.label=n[1],n=r;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(r);break}n[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(o){r=[6,o],s=0}finally{a=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorValidation=t.isMaxNumberValid=t.isAcceptTypeValid=t.isMaxFileSizeValid=t.isImageValid=t.isResolutionValid=void 0;var r=a(703),i=a(702);t.isResolutionValid=function(e,t,a,s){if(void 0===a&&(a=0),void 0===s&&(s=1),!a||!s||!e.width||!e.height)return!0;switch(t){case"absolute":if(e.width===a&&e.height===s)return!0;break;case"ratio":var n=a/s;if(e.width/e.height===n)return!0;break;case"less":if(e.width<=a&&e.height<=s)return!0;break;case"more":if(e.width>=a&&e.height>=s)return!0}return!1},t.isImageValid=function(e){return!!e.includes("image")},t.isMaxFileSizeValid=function(e,t){return!t||e<=t},t.isAcceptTypeValid=function(e,t){if(e&&e.length>0){var a=t.split(".").pop()||"";if(e.findIndex((function(e){return e.toLowerCase()===a.toLowerCase()}))<0)return!1}return!0},t.isMaxNumberValid=function(e,t,a){if(0!==t&&!t)return!0;if(a===r.DEFAULT_NULL_INDEX){if(e<=t)return!0}else if(e<=t+1)return!0;return!1},t.getErrorValidation=function(e){var a=e.fileList,r=e.value,o=e.maxNumber,l=e.keyUpdate,c=e.acceptType,d=e.maxFileSize,u=e.resolutionType,m=e.resolutionWidth,p=e.resolutionHeight;return s(void 0,void 0,void 0,(function(){var e,s,h,g;return n(this,(function(n){switch(n.label){case 0:return e={},t.isMaxNumberValid(a.length+r.length,o,l)?[3,1]:(e.maxNumber=!0,[3,5]);case 1:s=0,n.label=2;case 2:return s<a.length?(h=a[s].file)?t.isImageValid(h.type)&&t.isAcceptTypeValid(c,h.name)?t.isMaxFileSizeValid(h.size,d)?u?[4,i.getImage(h)]:[3,4]:(e.maxFileSize=!0,[3,5]):(e.acceptType=!0,[3,5]):[3,4]:[3,5];case 3:if(g=n.sent(),!t.isResolutionValid(g,u,m,p))return e.resolution=!0,[3,5];n.label=4;case 4:return s+=1,[3,2];case 5:return Object.values(e).find(Boolean)?[2,e]:[2,null]}}))}))}},835:function(e,t,a){"use strict";a.r(t),a.d(t,"StoreInformation",(function(){return C}));var s=a(0),n=a(48),r=a(749),i=a(609),o=a(597),l=a(570),c=a(569),d=a(568),u=a(827),m=a.n(u),p=a(592),h=a(750),g=a(7);class b extends s.Component{constructor(...e){super(...e),this.state={icon:"",visible:!1,loading:!1,action:"",carouselImages:[],removedImages:[],alert:!0},this.manageBrandModal=(e,t)=>{if(e.modalVisible!==this.props.modalVisible){let{visible:e,action:t,carousel:a,icon:s}=this.props.modalVisible;"Add Carousel"===t?this.setState({visible:e,action:t,icon:s}):"Edit Carousel"===t?(this.setState({visible:e,action:t,icon:s}),this.getImages(a)):"close"===t&&this.setState({visible:e,action:"",icon:"",carouselImages:[]})}},this.loadImage=(e,t)=>{let{carouselImages:a}=this.state;if(!e)return;let s=new FileReader;s.onloadend=()=>{a.push({data_url:s.result,file:null,image_created:!0,filename:t}),this.setState({carouselImages:a})},e&&s.readAsDataURL(e)},this.handleImageOnchange=(e,t)=>{this.setState({carouselImages:e})},this.handleOnSubmit=e=>{e.preventDefault();const{action:t}=this.state;"Add Carousel"===t?this.handleOnSave():"Edit Carousel"===t&&this.handleOnEdit()},this.handleOnSave=()=>{const{carouselImages:e}=this.state;let t=new FormData;if(e.length>0)for(let a=0;a<e.length;a++)e[a].file&&t.append("carouselImages[]",e[a].file);else t.append("carouselImages[]",e);this.props.saveCarouselImages(t).then((()=>{this.props.setCarouselModal(!1,"close","","")}))},this.handleOnEdit=()=>{const{carouselImages:e,removedImages:t}=this.state;console.log(t);let a=new FormData;if(e.length>0)for(let s=0;s<e.length;s++)e[s].file&&a.append("carouselImages[]",e[s].file);else a.append("carouselImages[]",e);a.append("removedImages[]",t),this.props.updateCarouselImages(a).then((()=>{this.props.setCarouselModal(!1,"close","","")}))}}componentDidUpdate(e,t){this.manageBrandModal(e,t)}async getImages(e){for(let t=0;t<e.length;t++)h.a.getImages(e[t].imageName).then((a=>{this.loadImage(a.data,e[t].imageName)})).catch((e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),a=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();this.setState({status:a,message:t})}))}removeImage(e){let{carouselImages:t,removedImages:a}=this.state;t[e].filename&&a.push(t[e].filename)}render(){let{visible:e,icon:t,action:a,loading:s,carouselImages:n,alert:r}=this.state;return Object(g.jsx)("div",{children:Object(g.jsxs)(d.P,{size:"xl",visible:e,fullscreen:"lg",scrollable:!0,children:[Object(g.jsx)(d.S,{onDismiss:()=>{this.props.setCarouselModal(!1,"close","","")},children:Object(g.jsx)(d.T,{children:Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[t,a+" Carousel"]})})}),Object(g.jsxs)(d.Q,{children:[Object(g.jsx)(d.a,{color:"warning",dismissible:!0,visible:r,children:Object(g.jsx)("strong",{children:"Maximum 10 images"})}),Object(g.jsx)(d.B,{id:"carouselImages",onSubmit:this.handleOnSubmit,children:Object(g.jsx)(m.a,{multiple:!0,value:n,onChange:this.handleImageOnchange,maxNumber:10,dataURLKey:"data_url",onError:()=>this.setState({toastVisible:!1}),acceptType:["jpg","gif","png"],children:({imageList:e,onImageUpload:t,onImageRemove:a,isDragging:s,dragProps:n})=>Object(g.jsxs)("div",{className:"upload__image-wrapper",children:[Object(g.jsx)(d.s,{className:"upload-container",children:Object(g.jsx)(d.f,{color:"secondary",className:"upload-btn",style:s?{backgroundColor:"#8E9293",border:"4px dashed #ffffff"}:void 0,onClick:t,...n,children:"Select Image or Drag Here"})}),Object(g.jsx)(d.bb,{className:" images-contianer shadow ",children:e.map(((e,t)=>Object(g.jsx)(d.q,{sm:"4",md:"2",lg:"3",children:Object(g.jsxs)("div",{className:"image-item d-flex ",children:[Object(g.jsx)("img",{src:e.data_url,alt:"",width:"100"}),Object(g.jsx)("div",{className:"image-item__btn-wrapper",children:Object(g.jsx)(p.b,{size:30,color:"#FF0000",onClick:()=>{this.removeImage(t),a(t)}})})]})},t)))})]})})})]}),Object(g.jsxs)(d.R,{children:[Object(g.jsx)(d.f,{color:"dark",variant:"ghost",onClick:()=>{this.props.setCarouselModal(!1,"close","","")},children:"Close"}),Object(g.jsxs)(d.f,{form:"carouselImages",type:"submit",color:"primary",disabled:s,children:[s&&Object(g.jsx)(d.gb,{size:"sm",className:"ms-1"}),"Save ","Edit"===a?"Changes":"Images"]})]})]})})}}var j=Object(n.b)((e=>({modalVisible:e.modalVisibleResponse,messageResponse:e.messageResponse})),{setCarouselModal:c.i,saveCarouselImages:r.b,updateCarouselImages:r.c})(b),f=a(596),O=a(603),y=a.n(O),v=a(604),x=a.n(v),I=a(573),S=a(748),E=a(157);class N extends s.Component{constructor(...e){super(...e),this.state={visible:!1,icon:"",loading:!1,message:"",action:"",status:"",successFully:"",storeInfoState:this.storeState,editorState:f.EditorState.createEmpty(),validated:!1},this.storeState={storeId:"",storeName:"",acronym:"",email:"",location:"",contactNumber:0},this.manageStoreInfo=(e,t)=>{if(e.modalVisible!==this.props.modalVisible){let{visible:e,action:t,storeInfo:a,icon:s}=this.props.modalVisible;"Edit"===t?this.setState({visible:e,storeId:a.id,storeName:a.storeName,acronym:a.acronym,email:a.email,location:a.location,contactNumber:a.contactNumber,icon:s,action:t,editorState:a.description?f.EditorState.createWithContent(Object(f.convertFromRaw)(JSON.parse(a.description))):f.EditorState.createEmpty()}):"close"===t&&this.setState({visible:e,branchId:"",branchName:"",icon:"",action:"",loading:!1})}},this.handleOnChange=e=>{let t=e.target.name;this.setState({[t]:e.target.value})},this.onEditorStateChange=e=>{this.setState({editorState:e})},this.handleOnSubmit=e=>{e.preventDefault();!1===e.currentTarget.checkValidity()&&e.stopPropagation(),this.setState({validated:!0,loading:!0});const{storeName:t,acronym:a,location:s,email:n,editorState:r,contactNumber:i,storeId:o}=this.state,l=JSON.stringify(Object(f.convertToRaw)(r.getCurrentContent()));this.props.updateStoreInformation(o,t,a,s,l,i,n).then((()=>{this.setState({loading:!0}),this.props.setStoreModal(!1,"close","","")})).catch((()=>{this.setState({loading:!0}),this.props.setStoreModal(!1,"close","","")}))},this.validateEmail=e=>/^[\w.+\-]+@gmail\.com$/.test(e)}componentDidUpdate(e,t){this.manageStoreInfo(e,t)}render(){let{visible:e,action:t,icon:a,loading:s,successFully:n,message:r,storeId:i,storeName:o,acronym:l,email:c,location:u,contactNumber:m,editorState:p,validated:h}=this.state;return Object(g.jsx)("div",{children:Object(g.jsxs)(d.P,{visible:e,size:"xl",scrollable:!0,children:[Object(g.jsx)(d.S,{onDismiss:()=>{this.props.setStoreModal(!1,"close","",""),this.props.clearMessage()},children:Object(g.jsx)(d.T,{children:Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[a,t+" Store Information"]})})}),Object(g.jsxs)(d.Q,{children:[r&&Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("div",{className:n?"alert alert-success":"alert alert-danger",role:"alert",children:r})}),Object(g.jsx)(d.B,{onSubmit:this.handleOnSubmit,id:"branch-form",noValidate:!0,validated:h,children:Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsxs)(d.bb,{children:[Object(g.jsx)(d.q,{sm:"12",md:"6",lg:"6",children:Object(g.jsxs)(d.F,{className:"mb-3",children:[Object(g.jsx)(d.D,{name:"storeName",value:o,onChange:this.handleOnChange,type:"text",id:"floatingStoreNameInput",placeholder:"Enter Store Name",required:!0}),Object(g.jsx)(d.G,{htmlFor:"floatingStoreNameInput",children:"Store name"}),Object(g.jsx)(d.E,{valid:!0,children:"Looks good!"}),Object(g.jsx)(d.E,{invalid:!0,children:"Acronym is Store name"})]})}),Object(g.jsx)(d.q,{sm:"12",md:"6",lg:"6",children:Object(g.jsxs)(d.F,{className:"mb-3",children:[Object(g.jsx)(d.D,{name:"acronym",value:l,onChange:this.handleOnChange,type:"text",id:"floatingAcronymInput",placeholder:"Enter Acronym Name",required:!0}),Object(g.jsx)(d.G,{htmlFor:"floatingAcronymInput",children:"Acronym"}),Object(g.jsx)(d.E,{valid:!0,children:"Looks good!"}),Object(g.jsx)(d.E,{invalid:!0,children:"Acronym is Required"})]})}),Object(g.jsx)(d.q,{sm:"12",md:"6",lg:"6",children:Object(g.jsxs)(d.F,{className:"mb-3",children:[Object(g.jsx)(d.D,{name:"contactNumber",value:m,onChange:this.handleOnChange,type:"text",id:"floatingContactNumberInput",placeholder:"Enter Contact Number",required:!0}),Object(g.jsx)(d.G,{htmlFor:"floatingContactNumberInput",children:"Contact Number"}),Object(g.jsx)(d.E,{valid:!0,children:"Looks good!"}),Object(g.jsx)(d.E,{invalid:!0,children:"Contact Number is Required"})]})}),Object(g.jsx)(d.q,{sm:"12",md:"6",lg:"6",children:Object(g.jsxs)(d.F,{className:"mb-3",children:[Object(g.jsx)(d.D,{name:"email",value:c,onChange:this.handleOnChange,type:"email",id:"floatingEmailInput",placeholder:"Enter Email",required:!0}),Object(g.jsx)(d.G,{htmlFor:"floatingEmailInput",children:"Email Address"}),Object(g.jsx)(d.E,{valid:!0,children:"Looks good!"}),Object(g.jsx)(d.E,{invalid:!0,children:"Email Address is Required"})]})}),Object(g.jsx)(d.q,{sm:"12",children:Object(g.jsxs)(d.F,{className:"mb-3",children:[Object(g.jsx)(d.D,{name:"location",value:u,onChange:this.handleOnChange,type:"text",id:"floatingLocationInput",placeholder:"Enter Location",required:!0}),Object(g.jsx)(d.G,{htmlFor:"floatingLocationInput",children:"Location Address"}),Object(g.jsx)(d.E,{valid:!0,children:"Looks good!"}),Object(g.jsx)(d.E,{invalid:!0,children:"Location Address is Required"})]})}),Object(g.jsx)(d.q,{sm:"12",md:"12",lg:"12",className:"mt-4",children:Object(g.jsx)(S.Editor,{editorState:p,wrapperClassName:"editor-wrapper",editorClassName:"editor",onEditorStateChange:this.onEditorStateChange,placeholder:"Inser Description about your Store",toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","emoji","remove","history"]},required:!0})})]})})})]}),Object(g.jsxs)(d.R,{children:[Object(g.jsx)(d.f,{color:"dark",variant:"ghost",onClick:()=>{this.props.setStoreModal(!1,"close","",""),this.props.clearMessage()},children:"Close"}),Object(g.jsxs)(d.f,{color:"primary",disabled:s,type:"submit",form:"branch-form",children:[s&&Object(g.jsx)(d.gb,{size:"sm",className:"ms-1"}),"Save ","Edit"===t?"Changes":"Branch"]})]})]})})}}var _=Object(n.b)((e=>({modalVisible:e.modalVisibleResponse,messageResponse:e.messageResponse})),{setStoreModal:c.o,clearMessage:I.a,updateStoreInformation:E.b})(N),A=a(1),D=a(26);class C extends s.Component{constructor(...e){super(...e),this.state={carouselImages:[],storeInfo:[],visible:!1},this.componentDidUpdate=(e,t)=>{this.getResponseCarouselImages(e,t),this.manageStoreInformationResponse(e,t),this.manageStoreInfo(e,t)},this.getResponseCarouselImages=(e,t)=>{if(e.carouselResponser!==this.props.carouselResponser){let e=this.props.carouselResponser;"RETRIEVE"===e.action&&(e.status>=200&&e.status<=300?this.setState({carouselImages:e.carouselData}):e.status<400&&console.log("ERROR"))}},this.manageStoreInformationResponse=(e,t)=>{if(e.storeInformationResponse!==this.props.storeInformationResponse){const{action:e,status:t,data:a}=this.props.storeInformationResponse;"GET_STORE_INFORMATION"===e&&200===t&&this.setState({storeInfo:a.storeInfo})}},this.manageStoreInfo=(e,t)=>{if(e.modalVisible!==this.props.modalVisible){let{action:e}=this.props.modalVisible;"close"===e&&(this.props.getStoreInformation(),this.props.getCarouselImages())}},this.createMarkup=e=>({__html:y.a.sanitize(e)})}componentDidMount(){this.props.getCarouselImages()}render(){let{carouselImages:e,storeInfo:t,visible:a}=this.state,s=t.description&&JSON.parse(t.description);const n={position:"absolute",zIndex:"2",top:"calc(4% - 16px)",height:"100%",cursor:"pointer",border:"none"},r={marginBottom:"12px"};let c="",u=Object(g.jsx)(g.Fragment,{});if(s){c=Object(f.convertFromRaw)(s);const e=f.EditorState.createWithContent(c);u=x()(Object(f.convertToRaw)(e.getCurrentContent()))}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{}),Object(g.jsx)(j,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"mb-2 text-end",children:e.length>0?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.f,{color:"info",variant:"ghost",size:"sm",onClick:()=>this.props.setCarouselModal(!a,"Edit Carousel",e,Object(g.jsx)(l.r,{size:20})),children:Object(g.jsx)(p.d,{size:"20"})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(d.f,{variant:"ghost",size:"sm",onClick:()=>this.props.setCarouselModal(!a,"Add Carousel","",Object(g.jsx)(l.r,{size:20})),children:[Object(g.jsx)(l.r,{size:20}),","]})})}),Object(g.jsx)(i.Carousel,{showArrows:!0,autoPlay:!0,showThumbs:!1,infiniteLoop:!0,dynamicHeight:!1,renderArrowPrev:(e,t,a)=>t&&Object(g.jsx)("button",{type:"button",onClick:e,title:a,className:"arrow-style",style:{...n,left:0},children:Object(g.jsx)(o.a,{size:"40",style:{color:"white"}})}),renderArrowNext:(e,t,a)=>t&&Object(g.jsx)("button",{type:"button",onClick:e,title:a,className:"arrow-style",style:{...n,right:0},children:Object(g.jsx)(o.b,{size:"40",style:{color:"white"}})}),children:e.length>0?e.map(((e,t)=>Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"d-block ",height:"400",src:D.a.api.private.baseUrl+"/api/v1/carousel/getImages/bytesArrays/"+e.imageName,alt:e.imageName})},t))):Object(g.jsx)("img",{className:"d-block ",height:"400",src:A.NO_IMAGE_BASE64,alt:"unavailable"})})]}),Object(g.jsxs)(d.s,{className:"mt-3 ",children:[Object(g.jsxs)(d.i,{className:" p-3",children:[t.acronym?Object(g.jsx)(d.b,{color:"warning",size:"xl",children:t.acronym}):Object(g.jsx)(d.b,{color:"warning",size:"xl",children:"IMS"}),Object(g.jsxs)(d.o,{className:"d-flex justify-content-between mt-3",children:[Object(g.jsxs)("div",{className:"font-style d-flex ",children:[Object(g.jsxs)("div",{className:"font-style d-flex flex-column align-items-start ",children:[Object(g.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Store name:"}),Object(g.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Acronym name:"}),Object(g.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Contact #:"}),Object(g.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Email:"}),Object(g.jsx)("h6",{className:"m-0 pe-3 mb-2",children:"Location:"})]}),Object(g.jsxs)("div",{className:"font-style d-flex flex-column align-items-start text-black-50",children:[Object(g.jsx)("strong",{style:{...r},children:t.storeName?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("span",{children:t.storeName})}):Object(g.jsx)("span",{className:"text-warning",children:"--"})}),Object(g.jsx)("strong",{style:{...r},children:t.acronym?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("span",{children:t.acronym})}):Object(g.jsx)("span",{className:"text-warning",children:"--"})}),Object(g.jsx)("strong",{style:{...r},children:t.contactNumber?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("span",{children:t.contactNumber})}):Object(g.jsx)("span",{className:"text-warning",children:"--"})}),Object(g.jsx)("strong",{style:{...r},children:t.email?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("span",{children:t.email})}):Object(g.jsx)("span",{className:"text-warning",children:"--"})}),Object(g.jsx)("strong",{style:{...r},children:t.location?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("span",{children:t.location})}):Object(g.jsx)("span",{className:"text-warning",children:"--"})})]})]}),Object(g.jsx)("div",{className:"d-flex justify-content-end align-items-start mb-3",children:Object(g.jsx)(d.f,{color:"info",variant:"ghost",size:"sm",onClick:()=>this.props.setStoreModal(!a,"Edit",t,Object(g.jsx)(p.d,{size:"20",className:"me-2"})),children:Object(g.jsx)(p.d,{size:"20"})})})]})]}),Object(g.jsx)(d.i,{className:"mt-3 p-3",children:Object(g.jsx)(d.j,{children:s?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"preview ps-4",dangerouslySetInnerHTML:this.createMarkup(u)})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"preview ps-4 text-warning",children:"No Description"})})})})]})]})}}t.default=Object(n.b)((e=>({carouselResponser:e.carouselResponser,storeInformationResponse:e.storeInformationResponse,modalVisible:e.modalVisibleResponse})),{getCarouselImages:r.a,getStoreInformation:E.a,setStoreModal:c.o,setCarouselModal:c.i})(C)}}]);
//# sourceMappingURL=35.3dac185e.chunk.js.map