(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[61],{752:function(e,t,s){"use strict";s.d(t,"c",(function(){return d})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return l}));var a=s(16),o=s(1),n=s(62),r=s(152);var c=new class{getTotals(){return n.a.get("/summaries",{headers:Object(r.a)()})}getTotalRevenues(e){return n.a.get("/revenue",{headers:Object(r.a)(),params:{year:e}})}getProductsAndCountTatolSold(e,t,s){return n.a.get("/summaries/products/sold",{headers:Object(r.a)(),params:{query:e,page:t,limit:s}})}};const d=()=>async e=>c.getTotals().then((t=>(e({type:o.GET_TOTALS,payload:{status:200,action:o.GET_TOTALS,data:{summaries:t.data}}}),Promise.resolve())),(t=>{const s=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),o=t.response&&t.response.data&&t.response.data.code||t.toString();return e({type:a.g,payload:{status:o,data:{message:s}}}),Promise.reject()})),i=e=>async t=>c.getTotalRevenues(e).then((e=>(t({type:o.GET_TOTAL_REVENUES,payload:{status:200,action:o.GET_TOTAL_REVENUES,data:{revenue:e.data}}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),o=e.response&&e.response.data&&e.response.data.code||e.toString();return t({type:a.g,payload:{status:o,data:{message:s}}}),Promise.reject()})),l=(e,t,s)=>async n=>c.getProductsAndCountTatolSold(e,t,s).then((e=>{n({type:o.GET_PRODUCTS_COUNT_TOTAL_SOLD,payload:{status:200,action:o.GET_PRODUCTS_COUNT_TOTAL_SOLD,data:{products:e.data}}})}),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.toString();return n({type:a.g,payload:{status:s,data:{message:t}}}),Promise.reject()}))},783:function(e,t,s){"use strict";s.r(t),s.d(t,"ProductReport",(function(){return m}));var a=s(0),o=s(568),n=s(570),r=s(607),c=s(48),d=s(752),i=s(651),l=s.n(i),p=s(633),h=s.n(p),u=s(582),b=s.n(u),j=s(7);class m extends a.Component{constructor(...e){super(...e),this.state={productsTotalSold:{data:[],totalPages:0},page:0,limit:10,query:""},this.getProductsAndCountTatolSold=(e,t,s)=>{this.props.getProductsAndCountTatolSold(e,t,s)},this.manageDashboardResponse=(e,t)=>{if(e.dashboardResponse!==this.props.dashboardResponse){const{status:e,action:t,data:s}=this.props.dashboardResponse;200===e&&"GET_PRODUCTS_COUNT_TOTAL_SOLD"===t&&this.setState({productsTotalSold:s.products})}},this.handlePageClick=e=>{let t=e.selected;this.setState({page:t});const{limit:s,query:a,status:o}=this.state;this.getProductsAndCountTatolSold(a,t,s)},this.handleSearch=e=>{const{page:t,limit:s,status:a}=this.state;this.getProductsAndCountTatolSold(e.target.value,t,s),this.setState({query:e.target.value})}}componentDidMount(){const{page:e,limit:t,query:s}=this.state;this.getProductsAndCountTatolSold(s,e,t)}componentDidUpdate(e,t){this.manageDashboardResponse(e,t)}render(){const{productsTotalSold:e}=this.state;return console.log(e),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"w-100 d-flex justify-content-end align-items-center",children:[Object(j.jsx)("div",{className:"w-100",children:Object(j.jsx)(o.o,{children:"Total Sold per Product"})}),Object(j.jsx)(o.B,{onSubmit:this.handleOnSubmitSearch,id:"search-form",className:"w-75",children:Object(j.jsxs)(o.N,{children:[Object(j.jsx)(o.D,{type:"text",id:"floatingInput",placeholder:"Search",className:"p-2",value:this.state.query,onChange:this.handleSearch}),Object(j.jsx)(o.f,{form:"search-form",type:"submit",color:"info",variant:"outline",id:"btn-search",className:"",children:Object(j.jsx)(n.v,{})})]})}),Object(j.jsx)("div",{className:"d-lg-flex align-items-end flex-row-reverse m-2 d-none",children:Object(j.jsx)(l.a,{trigger:()=>Object(j.jsx)(o.f,{type:"button",variant:"outline",color:"info",className:" pt-2 pb-2 ",children:Object(j.jsx)(r.c,{size:20})}),content:()=>this.componentRef})})]})}),Object(j.jsxs)(o.jb,{striped:!0,hover:!0,className:"shadow-sm ",responsive:!0,bordered:!0,align:"middle",ref:e=>this.componentRef=e,children:[Object(j.jsxs)(o.lb,{children:["List of Products: ",Object(j.jsx)("b",{children:e.totalItems})]}),Object(j.jsx)(o.nb,{color:"dark",children:Object(j.jsxs)(o.pb,{className:"text-center",children:[Object(j.jsx)(o.ob,{scope:"col",children:"Barcode"}),Object(j.jsx)(o.ob,{scope:"col",children:"Name"}),Object(j.jsx)(o.ob,{scope:"col",children:"Price"}),Object(j.jsx)(o.ob,{scope:"col",children:"Products Sold"}),Object(j.jsx)(o.ob,{scope:"col",children:"Order Status"})]})}),Object(j.jsx)(o.kb,{className:"text-center",color:"light",children:e.data.length>0?e.data.map(((e,t)=>Object(j.jsxs)(o.pb,{className:"text-center",children:[Object(j.jsx)(o.mb,{children:Object(j.jsx)(h.a,{value:String(e.barcode),height:50,width:1,fontSize:14,margin:7,background:"#f5f5f548"})}),Object(j.jsx)(o.mb,{children:e.productName}),Object(j.jsxs)(o.mb,{children:["\u20b1",e.productPrice.toFixed(2)]}),Object(j.jsx)(o.mb,{children:e.totalSold}),Object(j.jsx)(o.mb,{children:Object(j.jsx)(o.c,{color:"success",shape:"rounded-pill",children:e.status})})]},t))):Object(j.jsx)(o.pb,{children:Object(j.jsx)(o.mb,{colSpan:"7",children:"No data"})})})]}),Object(j.jsx)(b.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:e.totalPages,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",activeClassName:"active"})]})}}t.default=Object(c.b)((e=>({dashboardResponse:e.dashboardResponse})),{getProductsAndCountTatolSold:d.a})(m)}}]);
//# sourceMappingURL=61.25794405.chunk.js.map