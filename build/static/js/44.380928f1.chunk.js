(this["webpackJsonp@project/inventory-management-system"]=this["webpackJsonp@project/inventory-management-system"]||[]).push([[44],{572:function(e,t,s){"use strict";s.d(t,"j",(function(){return n})),s.d(t,"b",(function(){return d})),s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return u})),s.d(t,"e",(function(){return p})),s.d(t,"f",(function(){return i})),s.d(t,"a",(function(){return l})),s.d(t,"l",(function(){return g})),s.d(t,"k",(function(){return m})),s.d(t,"g",(function(){return h})),s.d(t,"h",(function(){return j})),s.d(t,"i",(function(){return b}));var a=s(16),r=s(587),o=s(1);const n=e=>async t=>r.a.saveProduct(e).then((e=>(t({type:o.SAVE_PRODUCT}),t({type:a.g,payload:{status:200,data:{message:"Successfully Saved"}}}),Promise.resolve())),(e=>{console.log(e);const s=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),r=e.response&&e.response.data&&e.response.data.code||e.toString();return console.log(r),t({type:o.SAVE_FAIL}),t({type:a.g,payload:{status:r,data:{message:s}}}),Promise.reject()})),d=(e,t,s)=>async a=>r.a.getDiscoverProducts(e,t,s).then((e=>(a({type:o.GET_DISCOVER_PRODUCT,payload:{status:200,data:{products:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return a({type:o.SET_PRODUCT_MESSAGE,payload:{status:s,data:{message:t}}}),Promise.reject()})),c=(e,t,s)=>async a=>r.a.getPopularProducts(e,t,s).then((e=>(a({type:o.GET_POPULAR_PRODUCT,payload:{status:200,data:{products:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return a({type:o.SET_PRODUCT_MESSAGE,payload:{status:s,data:{message:t}}}),Promise.reject()})),u=(e,t)=>async s=>r.a.getImage(e,t).then((e=>(console.log(e),s({type:o.GET_IMAGE,payload:{status:e.status,data:{image:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),r=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return s({type:o.FAIL_GET_IMAGE}),s({type:a.g,payload:{status:r,data:{message:t}}}),Promise.reject()})),p=e=>async t=>r.a.getProduct(e).then((e=>(t({type:o.GET_PRODUCT,payload:{status:200,data:{product:e.data}}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),r=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return t({type:a.g,payload:{status:r,data:{message:s}}}),Promise.reject()})),i=e=>async t=>r.a.getProductDetails(e).then((e=>(t({type:o.GET_PRODUCT_DETAILS,payload:{status:200,data:{product:e.data}}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),r=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return t({type:a.g,payload:{status:r,data:{message:s}}}),Promise.reject()})),l=e=>async t=>r.a.deleteProduct(e).then((e=>(t({type:o.DELETE_PRODUCT,payload:{status:200,action:o.DELETE_PRODUCT,data:{}}}),t({type:a.g,payload:{status:200,data:{message:"Successfully Deleted"}}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),r=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return t({type:a.g,payload:{status:r,data:{message:s}}}),Promise.reject()})),g=(e,t)=>async s=>r.a.updateProduct(e,t).then((e=>(s({type:o.UPDATE_PRODUCT,payload:{status:200,action:o.UPDATE_PRODUCT,data:{updatedProduct:e.data}}}),s({type:a.g,payload:{status:200,data:{message:"Successfully Updated"}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),r=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return s({type:a.g,payload:{status:r,data:{message:t}}}),Promise.reject()})),m=(e,t,s)=>async n=>r.a.searchProductByBarcodeOrName(e,t,s).then((e=>(n({type:o.SEARCH_PRODUCT,payload:{status:200,action:o.SEARCH_PRODUCT,data:{products:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return n({type:a.g,payload:{status:s,data:{message:t}}}),Promise.reject()})),h=(e,t,s,n)=>async d=>r.a.getProductsByCategoryName(e,t,s,n).then((e=>(d({type:o.GET_PRODUCT_BY_CATEGORY_NAME,payload:{status:200,action:o.GET_PRODUCT_BY_CATEGORY_NAME,data:{products:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return d({type:a.g,payload:{status:s,data:{message:t}}}),Promise.reject()})),j=(e,t,s,n)=>async d=>r.a.getProductsByStatus(e,t,s,n).then((e=>{d({type:o.GET_PRODUCTS_BY_STATUS,payload:{status:200,action:o.GET_PRODUCTS_BY_STATUS,data:{products:e.data}}})}),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return d({type:a.g,payload:{status:s,data:{message:t}}}),Promise.reject()})),b=(e,t,s,n)=>async d=>r.a.getProductsWithPromo(e,t,s,n).then((e=>(d({type:o.GET_PRODUCTS_WITH_PROMO,payload:{status:200,action:o.GET_PRODUCTS_WITH_PROMO,data:{products:e.data}}}),Promise.resolve())),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.error_message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.status||e.toString();return d({type:a.g,payload:{status:s,data:{message:t}}}),Promise.reject()}))},587:function(e,t,s){"use strict";var a=s(152),r=s(62);t.a=new class{saveProduct(e){return r.a.post("/products/save",e,{headers:Object(a.a)()})}updateProduct(e,t){return r.a.put("/products/update/"+e,t,{headers:Object(a.a)()})}deleteProduct(e){return r.a.delete("/products/delete/"+e,{headers:Object(a.a)()})}getProducts(e,t,s){return r.a.get("/products",{headers:Object(a.a)(),params:{query:e,page:t,limit:s}})}getImage(e,t){console.log();let s=e||"null/";return r.a.get("/products/getImages/bytesArrays/"+s+t,{responseType:"blob"})}getProduct(e){return r.a.get("/products/"+e,{headers:Object(a.a)()})}getProductDetails(e){return r.a.get("/products/details/"+e,{headers:Object(a.a)()})}getDiscoverProducts(e,t,s){return r.a.get("/products/discover",{headers:Object(a.a)(),params:{query:e,page:t,limit:s}})}getPopularProducts(e,t,s){return r.a.get("/products/popular",{headers:Object(a.a)(),params:{query:e,page:t,limit:s}})}searchProductByBarcodeOrName(e,t,s){return r.a.get("/products/search",{headers:Object(a.a)(),params:{query:e,page:t,limit:s}})}getProductsByCategoryName(e,t,s,o){return r.a.get("/products/category/"+e,{headers:Object(a.a)(),params:{query:t,page:s,limit:o}})}getProductsByStatus(e,t,s,o){return r.a.get("/products/status",{headers:Object(a.a)(),params:{status:t,query:e,page:s,limit:o}})}getProductsWithPromo(e,t,s,o){return r.a.get("/products/promo",{headers:Object(a.a)(),params:{status:e,query:t,page:s,limit:o}})}}},752:function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return p}));var a=s(16),r=s(1),o=s(62),n=s(152);var d=new class{getTotals(){return o.a.get("/summaries",{headers:Object(n.a)()})}getTotalRevenues(e){return o.a.get("/revenue",{headers:Object(n.a)(),params:{year:e}})}getProductsAndCountTatolSold(e,t,s){return o.a.get("/summaries/products/sold",{headers:Object(n.a)(),params:{query:e,page:t,limit:s}})}};const c=()=>async e=>d.getTotals().then((t=>(e({type:r.GET_TOTALS,payload:{status:200,action:r.GET_TOTALS,data:{summaries:t.data}}}),Promise.resolve())),(t=>{const s=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),r=t.response&&t.response.data&&t.response.data.code||t.toString();return e({type:a.g,payload:{status:r,data:{message:s}}}),Promise.reject()})),u=e=>async t=>d.getTotalRevenues(e).then((e=>(t({type:r.GET_TOTAL_REVENUES,payload:{status:200,action:r.GET_TOTAL_REVENUES,data:{revenue:e.data}}}),Promise.resolve())),(e=>{const s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),r=e.response&&e.response.data&&e.response.data.code||e.toString();return t({type:a.g,payload:{status:r,data:{message:s}}}),Promise.reject()})),p=(e,t,s)=>async o=>d.getProductsAndCountTatolSold(e,t,s).then((e=>{o({type:r.GET_PRODUCTS_COUNT_TOTAL_SOLD,payload:{status:200,action:r.GET_PRODUCTS_COUNT_TOTAL_SOLD,data:{products:e.data}}})}),(e=>{const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),s=e.response&&e.response.data&&e.response.data.code||e.toString();return o({type:a.g,payload:{status:s,data:{message:t}}}),Promise.reject()}))},779:function(e,t,s){"use strict";s.r(t),s.d(t,"Dashboard",(function(){return h}));var a=s(0),r=s(153),o=s(568),n=s(1132),d=s(572),c=s(48),u=s(633),p=s.n(u),i=s(752),l=s(26),g=s(7);const m=Object(a.lazy)((()=>s.e(70).then(s.bind(null,1292))));class h extends a.Component{constructor(...e){super(...e),this.state={products:{data:[],totalPages:0},status:"OUT_OF_STOCK",page:0,limit:10,query:"",productsTotalSold:{data:[],totalPages:0},year:null,revenue:[],getRevenue:{totalRevenue:[],month:[],year:""}},this.getProductsAndCountTatolSold=(e,t,s)=>{this.props.getProductsAndCountTatolSold(e,t,s)},this.getTotalRevenues=e=>{this.props.getTotalRevenues(e)},this.manageDashboardResponse=(e,t)=>{if(e.dashboardResponse!==this.props.dashboardResponse){const{status:e,action:t,data:s}=this.props.dashboardResponse;if(200===e&&"GET_PRODUCTS_COUNT_TOTAL_SOLD"===t)this.setState({productsTotalSold:s.products});else if(200===e&&"GET_TOTAL_REVENUES"===t){let e=[],t=[];s.revenue.map(((s,a)=>{e.push(s.totalRevenue),t.push(this.manageMonth(s.month))})),this.setState({revenue:s.revenue,totalRevenue:e,month:t,year:s.revenue[0].year})}}},this.handleProductPage=e=>{let t=e.selected;this.setState({page:t});const{limit:s,query:a,status:r}=this.state;this.getProducts(a,r,t,s)},this.manageStatus=e=>{switch(e){case"OK":return Object(g.jsx)(o.c,{color:"success",shape:"rounded-pill",children:e});case"LOW":return Object(g.jsx)(o.c,{color:"warning",shape:"rounded-pill",children:e});case"OUT_OF_STOCK":return Object(g.jsx)(o.c,{color:"danger",shape:"rounded-pill",children:"OUT OF STOCK"});default:return Object(g.jsx)(o.c,{color:"danger",shape:"rounded-pill",children:e})}},this.manageMonth=e=>{switch(e){case 1:return"Junuary";case 2:return"Febrary";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}},this.handleStatusOnClick=e=>{this.setState({status:e});const{query:t,page:s,limit:a}=this.state;this.getProducts(s,e,a,t)}}componentDidMount(){const{page:e,status:t,limit:s,query:a,year:r}=this.state;this.getProducts(e,t,s,a),this.getProductsAndCountTatolSold(a,e,s),this.getTotalRevenues(r)}componentDidUpdate(e,t){this.manageProductResponse(e,t),this.manageDashboardResponse(e,t)}manageProductResponse(e,t){if(e.productResponse!==this.props.productResponse){let{action:e,status:t,data:s}=this.props.productResponse;200===t&&"GET_PRODUCTS_BY_STATUS"===e&&this.setState({products:s.products})}}getProducts(e,t,s,a){this.props.getProductsByStatus(a,t,e,s)}render(){const{products:e,status:t,productsTotalSold:s,revenue:a,totalRevenue:d,month:c,year:u}=this.state;let i=[],h=[];return console.log(c&&c.slice(-1)[0]),s.data.map(((e,t)=>{i.push(e.totalSold),h.push(e.productName)})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(m,{}),Object(g.jsxs)(o.i,{className:"mb-4 d-none d-md-block",children:[Object(g.jsx)(o.m,{children:Object(g.jsx)(o.bb,{children:Object(g.jsxs)(o.q,{sm:"5",children:[Object(g.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Revenue"}),Object(g.jsx)("div",{className:"small text-medium-emphasis",children:c&&c[0]+" - "+c.slice(-1)[0]+" "+u})]})})}),Object(g.jsx)(o.j,{children:Object(g.jsx)(n.a,{title:"Reveneu",data:{labels:c,datasets:[{label:"Monthly Revenue",backgroundColor:"#08B7F4",data:d}]},labels:"months"})})]}),Object(g.jsxs)(o.i,{className:"mb-4 d-none d-md-block",children:[Object(g.jsx)(o.m,{children:Object(g.jsx)(o.bb,{children:Object(g.jsx)(o.q,{sm:"5",children:Object(g.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Top 10 Most Sold Product"})})})}),Object(g.jsx)(o.j,{children:Object(g.jsx)(n.a,{data:{labels:h,datasets:[{label:"Sold Product",backgroundColor:"#f87979",data:i}]},labels:"months"})})]}),Object(g.jsxs)(o.i,{className:"mb-4 bg-transparent border-0",children:[Object(g.jsx)(o.m,{children:Object(g.jsxs)(o.bb,{children:[Object(g.jsx)(o.q,{sm:"5",className:"d-flex align-items-center",children:Object(g.jsx)("h4",{className:"card-title mb-0 ",children:"Products need Action"})}),Object(g.jsx)(o.q,{sm:"7",children:Object(g.jsx)(o.g,{className:"float-end",children:["OUT_OF_STOCK","LOW"].map((e=>Object(g.jsx)(o.f,{color:"LOW"===e?"outline-warning":"outline-danger",className:"mx-0",active:e===t,onClick:()=>this.handleStatusOnClick(e),children:e},e)))})})]})}),Object(g.jsx)(o.j,{className:"p-0 m-0 ",children:Object(g.jsxs)(o.jb,{striped:!0,hover:!0,className:"shadow-sm ",responsive:!0,bordered:!0,align:"middle",children:[Object(g.jsx)(o.lb,{children:Object(g.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(g.jsx)("div",{children:Object(g.jsx)(r.b,{to:{pathname:l.a.api.private.prefixFrontendUrl+"/app/products/products",state:t},children:"View More"})}),Object(g.jsxs)("div",{children:["List of Products: ",Object(g.jsx)("b",{children:e.totalItems})]})]})}),Object(g.jsx)(o.nb,{color:"dark",children:Object(g.jsxs)(o.pb,{className:"text-center",children:[Object(g.jsx)(o.ob,{scope:"col",children:"Barcode"}),Object(g.jsx)(o.ob,{scope:"col",children:"Name"}),Object(g.jsx)(o.ob,{scope:"col",children:"Price"}),Object(g.jsx)(o.ob,{scope:"col",children:"Alert Stocks Threshold"}),Object(g.jsx)(o.ob,{scope:"col",children:"Total Stocks"}),Object(g.jsx)(o.ob,{scope:"col",children:"Status"})]})}),Object(g.jsx)(o.kb,{className:"text-center",color:"light",children:e.data&&e.data.length>0?e.data.map(((e,t)=>{const{id:s,barcode:a,productName:r,productPrice:n}=e.product,{threshold:d,status:c,totalStock:u}=e.inventory;return Object(g.jsxs)(o.pb,{className:"text-center",children:[Object(g.jsx)(o.mb,{children:Object(g.jsx)(p.a,{value:String(a),height:50,width:1,fontSize:14,margin:7,background:"#f5f5f548"})}),Object(g.jsx)(o.mb,{children:r}),Object(g.jsxs)(o.mb,{children:["\u20b1",n.toFixed(2)]}),Object(g.jsx)(o.mb,{children:d}),Object(g.jsx)(o.mb,{children:u}),Object(g.jsx)(o.mb,{children:this.manageStatus(c)})]},t)})):Object(g.jsx)(o.pb,{children:Object(g.jsx)(o.mb,{colSpan:"7",children:"No data"})})})]})})]})]})}}t.default=Object(c.b)((e=>({productResponse:e.productResponser,dashboardResponse:e.dashboardResponse})),{getProductsByStatus:d.h,getProductsAndCountTatolSold:i.a,getTotalRevenues:i.b})(h)}}]);
//# sourceMappingURL=44.380928f1.chunk.js.map