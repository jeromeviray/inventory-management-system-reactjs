{"version":3,"sources":["service/restAPI/OrderApiService.js","service/apiActions/indexAction.js","service/apiActions/orderAction/orderAction.js","components/orderTabContent/OrderCard.js","components/orderTabContent/OrderDetails.js"],"names":["getOrders","status","query","page","limit","axios","get","headers","authHeader","params","getPaymentTransactions","updateOrderPaymentStatus","orderId","paymentStatus","put","placeOrderDetails","orderDetails","post","customerAddressId","addressId","paymentId","paymentMethodId","cartItems","items","shippingFeeId","shippingFee","getOrderByOrderId","updateOrderStatus","trackingNumber","trackingUrl","validateCart","data","handleError","error","dispatch","errorMessage","response","message","toString","code","type","SET_MESSAGE","payload","async","OrderApiService","then","GET_ORDERS","action","orders","orderStatusCount","orderCounts","Promise","resolve","reject","getOrderItems","ORDER_ITEMS","placeOrder","orderDetials","PLACE_ORDER","order","GET_ORDER_BY_ID","UPDATE_ORDER_STATUS","toUpperCase","UPDATE_PAYMENT_STATUS","GET_PAYMENT_TRANSACTIONS","payments","VALIDATE_CART","error_messages","length","join","OrderCard","Component","constructor","props","super","this","state","orderItem","item","canReview","comment","rating","submitted","canViewReview","permission","render","isSubmitted","fontStyle","fontSize","fontWeight","console","log","className","rounded","src","product","fileImages","config","api","private","baseUrl","path","fileName","NO_IMAGE_BASE64","width","height","sm","lg","md","productName","style","productPrice","toFixed","quantity","amount","count","value","size","isHalf","edit","onChange","newRating","handleOrderReview","Roles","SUPER_ADMIN","ADMIN","disabled","event","target","id","rows","placeholder","OrderDetails","customerAddress","hasError","manageOrderResponse","prevProps","prevState","orderResponse","setState","downloadQRCode","qrCodeURL","document","getElementById","toDataURL","replace","aEl","createElement","href","download","body","appendChild","click","removeChild","componentDidMount","location","catch","componentDidUpdate","firstName","lastName","phoneNumber","street","barangay","province","region","city","postalCode","firstNameUpperCase","charAt","slice","lastNameUpperCase","qrValue","userResponse","credentials","roles","onClick","history","goBack","variant","color","role","roleName","trigger","content","componentRef","ref","el","orderItems","map","index","cursor","String","includeMargin","orderedAt","paymentMethod","orderStatus","totalAmount","connect","messageResponse","clearMessage"],"mappings":"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","file":"static/js/52.e5eaa36b.chunk.js","sourcesContent":["import authHeader from '../auth/authHeader';\nimport axios from './RestApi';\n\nexport class OrderApiService {\n    getOrders(status, query, page, limit) {\n        return axios.get(\"/orders/status/\" + status, {\n            headers: authHeader(),\n            params: {\n                query: query,\n                page: page,\n                limit: limit\n            }\n        })\n    }\n\n    getPaymentTransactions(query, page, limit) {\n        return axios.get(\"/orders/payments\", {\n            headers: authHeader(),\n            params: {\n                query: query,\n                page: page,\n                limit: limit\n            }\n        })\n    }\n\n    updateOrderPaymentStatus(orderId, paymentStatus) {\n        return axios.put(\"/orders/\" + orderId + \"/paid/\" + paymentStatus, {}, {\n            headers: authHeader()\n        })\n    }\n\n\n    placeOrderDetails(orderDetails) {\n        return axios.post(\"/orders/checkout\", {\n            customerAddressId: orderDetails.addressId,\n            paymentId: orderDetails.paymentMethodId,\n            cartItems: orderDetails.items,\n            shippingFeeId: orderDetails.shippingFee\n        }, {\n            headers: authHeader()\n        })\n    }\n\n    getOrderByOrderId(orderId) {\n        return axios.get(\"/orders/\" + orderId, {\n            headers: authHeader()\n        })\n    }\n\n    updateOrderStatus(orderId, status, trackingNumber, trackingUrl) {\n        return axios.put(\"/orders/\" + orderId + \"/status/\" + status, {}, {\n            headers: authHeader(),\n            params: {\n                trackingNumber: trackingNumber,\n                trackingUrl: trackingUrl\n            }\n        })\n    }\n\n    validateCart(data) {\n        return axios.post(\"/orders/validate\", data, {\n            headers: authHeader()\n        })\n    }\n}\nexport default new OrderApiService();","import { SET_MESSAGE } from \"src/constants/userConstants\";\n\nexport const handleError = (error, dispatch) => {\n    const errorMessage =\n        (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n        error.message ||\n        error.toString();\n\n    const status = (error.response &&\n        error.response.data &&\n        error.response.data.code) ||\n        error.toString();\n\n    dispatch({\n        type: SET_MESSAGE,\n        payload: {\n            status: status,\n            data: {\n                message: errorMessage\n            }\n        }\n    })\n}","import { VALIDATE_CART, GET_ORDER_BY_ID, GET_ORDERS, ORDER_ITEMS, PLACE_ORDER, UPDATE_ORDER_STATUS, GET_PAYMENT_TRANSACTIONS, UPDATE_PAYMENT_STATUS } from \"src/service/redux/constants\";\nimport { SET_MESSAGE } from \"src/constants/userConstants\";\nimport OrderApiService from \"src/service/restAPI/OrderApiService\";\nimport { handleError } from \"../indexAction\";\n\nexport const getOrders = (status, query, page, limit) => async (dispatch) => {\n    return OrderApiService.getOrders(status, query, page, limit).then(\n        (response) => {\n            dispatch({\n                type: GET_ORDERS,\n                payload: {\n                    status: 200,\n                    action: \"GET_ORDERS\",\n                    data: {\n                        orders: response.data,\n                        orderStatusCount: response.data.orderCounts\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n\n}\n\nexport const getOrderItems = (items) => async (dispatch) => {\n    dispatch({\n        type: ORDER_ITEMS,\n        payload: {\n            status: 200,\n            action: \"ORDERITEMS\",\n            data: {\n                items: items\n            }\n        }\n    })\n}\n\nexport const placeOrder = (orderDetials) => async (dispatch) => {\n    return OrderApiService.placeOrderDetails(orderDetials).then(\n        (response) => {\n            dispatch({\n                type: PLACE_ORDER,\n                payload: {\n                    status: 200,\n                    action: \"PLACE_ORDER\",\n                    data: {\n\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully Place your Order\",\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const getOrderByOrderId = (orderId) => async (dispatch) => {\n    return OrderApiService.getOrderByOrderId(orderId).then(\n        (response) => {\n            dispatch({\n                type: GET_ORDER_BY_ID,\n                payload: {\n                    status: 200,\n                    action: \"GETORDERBYID\",\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const updateOrderStatus = (orderId, status, trackingNumber, trackingUrl) => async (dispatch) => {\n    return OrderApiService.updateOrderStatus(orderId, status, trackingNumber, trackingUrl).then(\n        (response) => {\n            dispatch({\n                type: UPDATE_ORDER_STATUS,\n                payload: {\n                    status: 200,\n                    action: UPDATE_ORDER_STATUS,\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        message: \"Successfully updated order \" + orderId + \" status to \" + status.toUpperCase(),\n                        order: response.data\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const updateOrderPaymentStatus = (orderId, paymentStatus) => async (dispatch) => {\n    return OrderApiService.updateOrderPaymentStatus(orderId, paymentStatus).then(\n        (response) => {\n            dispatch({\n                type: UPDATE_PAYMENT_STATUS,\n                payload: {\n                    status: 200,\n                    action: UPDATE_PAYMENT_STATUS,\n                    data: {\n                        order: response.data\n                    }\n                }\n            })\n            dispatch({\n                type: SET_MESSAGE,\n                payload: {\n                    status: 200,\n                    data: {\n                        //message: \"Successfully updated order \" + orderId + \" status to \" + status.toUpperCase(),\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const getPaymentTransactions = (query, page, limit) => async (dispatch) => {\n    return OrderApiService.getPaymentTransactions(query, page, limit).then(\n        (response) => {\n            dispatch({\n                type: GET_PAYMENT_TRANSACTIONS,\n                payload: {\n                    status: 200,\n                    action: \"GET_PAYMENT_TRANSACTIONS\",\n                    data: {\n                        payments: response.data,\n                    }\n                }\n            })\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n\nexport const validateCart = (data) => async (dispatch) => {\n    return OrderApiService.validateCart(data).then(\n        (response) => {\n            dispatch({\n                type: VALIDATE_CART,\n                payload: {\n                    status: 200,\n                    action: VALIDATE_CART,\n                    data: response.data\n                }\n            })\n\n            if (response.data.error_messages.length > 0) {\n                dispatch({\n                    type: SET_MESSAGE,\n                    payload: {\n                        status: 400,\n                        data: {\n                            message: response.data.error_messages.join(\"\\n\")\n                        }\n                    }\n                })\n            }\n            return Promise.resolve();\n        },\n        (error) => {\n            handleError(error, dispatch);\n            return Promise.reject();\n        }\n    )\n}\n","import React, { Component } from \"react\"\nimport {\n  CCard,\n  CCardBody,\n  CRow,\n  CCol,\n  CImage,\n  CFormLabel,\n  CFormTextarea,\n} from \"@coreui/react\"\nimport { NO_IMAGE_BASE64 } from \"src/service/redux/constants\"\nimport ReactStars from \"react-rating-stars-component\"\n\nimport config from \"../../config\";\nimport Roles from \"src/router/config\";\n\nexport class OrderCard extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      orderItem: this.props.item,\n      canReview: this.props.canReview,\n      orderId: this.props.orderId,\n      comment: this.props.comment,\n      rating: this.props.rating,\n      submitted: this.props.submitted,\n      canViewReview: this.props.canViewReview,\n      permission: this.props.permission\n    }\n  }\n  render() {\n    let {\n      orderItem,\n      canReview,\n      rating,\n      comment,\n      orderId,\n      submitted,\n      canViewReview,\n      permission\n    } = this.state\n    let isSubmitted = submitted\n    if (canViewReview && !canReview) {\n      submitted = true\n    }\n    const fontStyle = {\n      fontSize: \"14px\",\n      fontWeight: \"400\",\n    }\n    console.log(orderItem)\n    return (\n\n      <CRow className=\"mb-3\">\n        <CCard>\n          <CCardBody>\n            <div className=\"d-flex align-items-start\">\n              <CImage\n                rounded\n                src={\n                  orderItem.product.fileImages.length > 0\n                    ? config.api.private.baseUrl + \"/api/v1/products/getImages/bytesArrays/\" +\n                    orderItem.product.fileImages[0].path +\n                    orderItem.product.fileImages[0].fileName\n                    : NO_IMAGE_BASE64\n                }\n                width={100}\n                height={100}\n              />\n              <div className=\"ms-2  w-100\">\n                <CRow className=\"d-flex justify-content-between\">\n                  <CCol sm=\"12\" lg=\"3\" md=\"12\" className=\"ps-4 text-dark\">\n                    {orderItem.product.productName}\n                  </CCol>\n                  <CCol sm=\"12\" lg=\"3\" md=\"2\" className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Price\n                    </span>\n                    <span className=\"pt-3\">\n                      &#8369;{orderItem.product.productPrice.toFixed(2)}\n                    </span>\n                  </CCol>\n                  <CCol sm=\"12\" lg=\"3\" md=\"2\" className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Quantity\n                    </span>\n                    <span className=\"pt-3\">{orderItem.quantity}</span>\n                  </CCol>\n                  <CCol sm=\"12\" lg=\"3\" md=\"2\" className=\"text-dark d-flex flex-column align-items-center\">\n                    <span style={fontStyle} className=\"text-black-50\">\n                      Amount\n                    </span>\n                    <span className=\"pt-3\">\n                      &#8369;{orderItem.amount.toFixed(2)}\n                    </span>\n                  </CCol>\n                </CRow>\n                {(canReview || (canViewReview && isSubmitted)) && (\n                  <div>\n                    <ReactStars\n                      count={5}\n                      value={rating}\n                      size={24}\n                      isHalf={false}\n                      edit={!submitted}\n                      onChange={(newRating) => {\n                        this.props.handleOrderReview(\n                          orderId,\n                          orderItem,\n                          newRating,\n                          comment,\n                        )\n                      }}\n                    />\n                    {permission === Roles.SUPER_ADMIN || permission === Roles.ADMIN ?\n                      <></> :\n                      <div className=\"mb-!2\">\n                        <textarea\n                          disabled={submitted}\n                          onChange={(event) => {\n                            this.props.handleOrderReview(\n                              orderId,\n                              orderItem,\n                              rating,\n                              event.target.value,\n                            )\n                          }}\n                          id=\"exampleFormControlTextarea1\"\n                          rows=\"3\"\n                          style={{ width: \"100%\" }}\n                          placeholder=\"Please write a review.\"\n                        >\n                          {comment}\n                        </textarea>\n                      </div>\n                    }\n                  </div>\n                )}\n              </div>\n            </div>\n          </CCardBody>\n        </CCard>\n      </CRow>\n    )\n  }\n}\n\nexport default OrderCard\n","import React, { Component } from 'react'\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CContainer,\n    CCardHeader,\n    CRow\n} from '@coreui/react';\nimport { connect } from 'react-redux';\n//action\nimport { clearMessage } from 'src/service/apiActions/messageAction/messageAction';\nimport { getOrderByOrderId } from 'src/service/apiActions/orderAction/orderAction';\n\n//helper\nimport { history } from 'src/_helper/history';\n//icon\nimport * as IoIcons from \"react-icons/io5\"\nimport OrderCard from './OrderCard';\n//npm\nimport ReactToPrint from 'react-to-print';\nimport QRCode from 'qrcode.react';\nimport Roles from 'src/router/config';\n\nexport class OrderDetails extends Component {\n    state = {\n        message: '',\n        order: [],\n        orderId: '',\n        customerAddress: [],\n        hasError: false\n    }\n    componentDidMount() {\n        let orderId = this.props.location.state;\n        this.props.getOrderByOrderId(orderId).catch(() => {\n            this.setState({\n                hasError: true\n            })\n        })\n    }\n    componentDidUpdate(prevProps, prevState) {\n        this.manageOrderResponse(prevProps, prevState);\n    }\n\n    manageOrderResponse = (prevProps, prevState) => {\n\n        if (prevProps.orderResponse !== this.props.orderResponse) {\n            let { status, action, data } = this.props.orderResponse;\n            if (status === 200 && action === \"GETORDERBYID\") {\n                this.setState({\n                    order: data.order,\n                    customerAddress: data.order.customerAddress,\n                    orderId: data.order.orderId\n                })\n            }\n        }\n    }\n    downloadQRCode = () => {\n        let { orderId } = this.state.order;\n        console.log(orderId);\n        const qrCodeURL = document\n            .getElementById('qrCodeEl').toDataURL('image/png')\n            .replace('image/png', 'image/octet-stream');\n\n        let aEl = document.createElement('a');\n        aEl.href = qrCodeURL;\n        aEl.download = 'QR_Code' + orderId + '.png';\n        document.body.appendChild(aEl);\n        aEl.click();\n        document.body.removeChild(aEl);\n    }\n    render() {\n        let { order, message, hasError, customerAddress } = this.state;\n        const {\n            firstName,\n            lastName,\n            phoneNumber,\n            street,\n            barangay,\n            province,\n            region,\n            city,\n            postalCode } = customerAddress;\n        let firstNameUpperCase = firstName && firstName.charAt(0).toUpperCase() + firstName.slice(1);\n        let lastNameUpperCase = lastName && lastName.charAt(0).toUpperCase() + lastName.slice(1);\n        let qrValue = order && order.orderId;\n\n        let permission = this.props.userResponse.credentials.roles\n        return (\n            <>\n                <CButton\n                    onClick={() => history.goBack()}\n                    variant=\"ghost\"\n                    color=\"secondary\"\n                    className=\"d-flex align-items-center\"\n                >\n                    <IoIcons.IoChevronBack size={20} />\n                    <span className=\"ms-2\">back</span>\n                </CButton>\n\n                {message && (\n                    <div className=\"form-group d-flex justify-content-center align-items-center\">\n                        <div className=\"alert alert-danger\" role=\"alert\">\n                            {message}\n                        </div>\n                    </div>\n                )}\n\n                {hasError ? <></> :\n                    <div className=\"mb-4\">\n                        {permission.roleName === Roles.SUPER_ADMIN || permission.roleName === Roles.ADMIN ?\n                            <div className=\"d-flex align-items-end flex-row-reverse m-2  d-none d-lg-flex\" >\n\n                                <ReactToPrint\n                                    trigger={() =>\n                                        <CButton\n                                            color=\"info\"\n                                            className=\"d-flex align-items-center\"\n                                        >\n                                            <IoIcons.IoPrintOutline size={20} />\n                                        </CButton>\n                                    }\n                                    content={() => this.componentRef}\n                                />\n                            </div> : <></>\n                        }\n                        <div ref={(el) => (this.componentRef = el)} className=\"ps-4 pe-4 pt-3\">\n                            <CCard className=\"border-envelope\">\n                                <CCardBody>\n                                    <h5 className=\"text-black-50\">Customer Address</h5>\n\n                                    <h6>\n                                        <span className=\"mb-2 text-black-50 me-2 font-style \">Name:</span>\n\n                                        {firstNameUpperCase + \" \" + lastNameUpperCase}\n                                    </h6>\n                                    <h6 >\n                                        <span className=\"mb-2 text-black-50 me-2  font-style \">Contact:</span>\n                                        {phoneNumber}\n                                    </h6>\n                                    <h6>\n                                        <span className=\"mb-2 text-black-50 me-2  font-style \">Address:</span>\n\n                                        {\"# \" + street + \", \" + barangay + \", \" + city + \", \" + province + \", \" + region}\n                                    </h6>\n\n                                </CCardBody>\n                            </CCard>\n                            <CCard className=\"mt-3\">\n                                <CCardHeader>\n                                    <span style={{ fontSize: \"14px\", fontWeight: \"400\" }} className=\"text-black-50\">\n                                        Order ID: {order && order.orderId}\n                                    </span>\n                                </CCardHeader>\n                                <CCardBody>\n                                    <CContainer>\n                                        {order.orderItems && order.orderItems.map((item, index) => {\n\n                                            return (\n                                                <OrderCard item={item} key={index} />\n                                            )\n                                        })}\n                                    </CContainer>\n\n\n                                </CCardBody>\n                            </CCard>\n                            <CCard className=\"mt-3\">\n                                <CCardHeader>\n                                    <h5 className=\"text-black-50\">Summary Payment Details</h5>\n\n                                </CCardHeader>\n                                <CCardBody className=\"d-flex justify-content-between\">\n                                    <div className=\"d-flex justify-content-center flex-column\">\n                                        <a onClick={this.downloadQRCode} style={{ cursor: \"pointer\" }}>\n                                            <QRCode\n                                                id=\"qrCodeEl\"\n                                                value={String(qrValue)}\n                                                // renderAs=\"svg\"\n                                                includeMargin={true}\n                                            />\n                                        </a>\n\n                                        <CButton onClick={this.downloadQRCode} color=\"link\">Download QR</CButton>\n                                    </div>\n                                    <div className=\"d-flex flex-column\">\n                                        <div className=\"font-style mt-2\">\n                                            <span className=\"text-black-50 me-2\">\n                                                Date of Ordered:\n                                            </span>\n                                            <span className=\"font-style\">{order.orderedAt}</span>\n                                        </div>\n\n                                        <div className=\"font-style mt-2\">\n                                            <span className=\"text-black-50 me-2 font-style\">\n                                                Payment Method:\n                                            </span>\n                                            <span className=\"font-style\">{order.paymentMethod && order.paymentMethod.paymentMethod}</span>\n\n                                        </div>\n                                        <div className=\"font-style mt-2\">\n                                            <span className=\"text-black-50 me-2 font-style\">\n                                                Order Status:\n                                            </span>\n                                            <span className=\"text-danger\" >{order.orderStatus}</span>\n\n                                        </div>\n                                        <div className=\"mt-2\">\n                                            <span className=\" font-style text-black-50 me-2\">\n                                                Total Amount\n                                            </span>\n                                            <span className=\"font-style\">\n                                                &#8369;{order.totalAmount && order.totalAmount.toFixed(2)}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </CCardBody>\n                            </CCard>\n                        </div>\n\n                    </div>\n                }\n            </>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        orderResponse: state.orderResponse,\n        messageResponse: state.messageResponse,\n        userResponse: state.userResponse\n    }\n}\nexport default connect(mapStateToProps, {\n    getOrderByOrderId,\n    clearMessage\n})(OrderDetails)\n"],"sourceRoot":""}